import{h as Qo}from"./moment.a354566a.js";import{S as vo,i as ko,s as yo,e as V,d as ye,f as Q,g as de,j as Te,l as ee,m as C,p as Tn,r as D,a7 as tt,u as gt,M as Yn,C as To,J as mi,z as _n,v as Ko,w as Bn,y as Zo,K as xo,L as Jo,G as bi,aa as wi,t as Pe,b as _i,k as Ae,h as pi,ab as vi,ac as Rn,q as ki,A as yi,ad as Ln,ae as Ti,X as zi,x as Di,af as Ci}from"./index.62fc0439.js";import{a as $o}from"./gantt.77da4c65.js";function he(){}function Mt(t,e){for(const n in e)t[n]=e[n];return t}function zo(t){return t()}function Ei(){return Object.create(null)}function St(t){t.forEach(zo)}function Gn(t){return typeof t=="function"}function Xe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ri(t,...e){if(t==null)return he;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function el(t){let e;return ri(t,n=>e=n)(),e}function U(t,e,n){t.$$.on_destroy.push(ri(e,n))}function tl(t,e,n,i){if(t){const o=Do(t,e,n,i);return t[0](o)}}function Do(t,e,n,i){return t[1]&&i?Mt(n.ctx.slice(),t[1](i(e))):n.ctx}function nl(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let s=0;s<l;s+=1)r[s]=e.dirty[s]|o[s];return r}return e.dirty|o}return e.dirty}function il(t,e,n,i,o,r,l){const s=nl(e,i,o,r);if(s){const a=Do(e,n,i,l);t.p(a,s)}}function ol(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Ri(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function In(t){return t==null?"":t}function Ye(t,e,n=e){return t.set(n),e}function Wt(t){return t&&Gn(t.destroy)?t.destroy:he}function N(t,e){t.appendChild(e)}function B(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode.removeChild(t)}function qt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function Jn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Tt(t){return document.createTextNode(t)}function ze(){return Tt(" ")}function zt(){return Tt("")}function yt(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function z(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ll(t){return Array.from(t.childNodes)}function Pt(t,e){e=""+e,t.data!==e&&(t.data=e)}function W(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let Wn;function sl(){if(Wn===void 0){Wn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Wn=!0}}return Wn}function Wi(t,e){const n=getComputedStyle(t),i=(parseInt(n.zIndex)||0)-1;n.position==="static"&&(t.style.position="relative");const o=P("iframe");o.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${i};`),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const r=sl();let l;return r?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=yt(window,"message",s=>{s.source===o.contentWindow&&e()})):(o.src="about:blank",o.onload=()=>{l=yt(o.contentWindow,"resize",e)}),N(t,o),()=>{(r||l&&o.contentWindow)&&l(),A(o)}}function te(t,e,n){t.classList[n?"add":"remove"](e)}function rl(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}class Gt{constructor(e=null){this.a=e,this.e=this.n=null}m(e,n,i=null){this.e||(this.e=P(n.nodeName),this.t=n,this.h(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)B(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(A)}}let Un;function oi(t){Un=t}function zn(){if(!Un)throw new Error("Function called outside component initialization");return Un}function Vn(t){zn().$$.on_mount.push(t)}function al(t){zn().$$.on_destroy.push(t)}function Dn(){const t=zn();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=rl(e,n);i.slice().forEach(r=>{r.call(t,o)})}}}function Mn(t,e){zn().$$.context.set(t,e)}function De(t){return zn().$$.context.get(t)}function li(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i(e))}const mn=[],Nt=[],Pn=[],Mi=[],Co=Promise.resolve();let si=!1;function Eo(){si||(si=!0,Co.then(Ro))}function $n(){return Eo(),Co}function kn(t){Pn.push(t)}let ei=!1;const ti=new Set;function Ro(){if(!ei){ei=!0;do{for(let t=0;t<mn.length;t+=1){const e=mn[t];oi(e),cl(e.$$)}for(mn.length=0;Nt.length;)Nt.pop()();for(let t=0;t<Pn.length;t+=1){const e=Pn[t];ti.has(e)||(ti.add(e),e())}Pn.length=0}while(mn.length);for(;Mi.length;)Mi.pop()();si=!1,ei=!1,ti.clear()}}function cl(t){if(t.fragment!==null){t.update(),St(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(kn)}}const An=new Set;let Xt;function ct(){Xt={r:0,c:[],p:Xt}}function ut(){Xt.r||St(Xt.c),Xt=Xt.p}function X(t,e){t&&t.i&&(An.delete(t),t.i(e))}function K(t,e,n,i){if(t&&t.o){if(An.has(t))return;An.add(t),Xt.c.push(()=>{An.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function bn(t,e){K(t,1,1,()=>{e.delete(t.key)})}function wn(t,e,n,i,o,r,l,s,a,c,d,h){let v=t.length,p=r.length,k=v;const f={};for(;k--;)f[t[k].key]=k;const b=[],g=new Map,_=new Map;for(k=p;k--;){const R=h(o,r,k),q=n(R);let O=l.get(q);O?i&&O.p(R,e):(O=c(q,R),O.c()),g.set(q,b[k]=O),q in f&&_.set(q,Math.abs(k-f[q]))}const F=new Set,Y=new Set;function S(R){X(R,1),R.m(s,d),l.set(R.key,R),d=R.first,p--}for(;v&&p;){const R=b[p-1],q=t[v-1],O=R.key,Z=q.key;R===q?(d=R.first,v--,p--):g.has(Z)?!l.has(O)||F.has(O)?S(R):Y.has(Z)?v--:_.get(O)>_.get(Z)?(Y.add(O),S(R)):(F.add(Z),v--):(a(q,l),v--)}for(;v--;){const R=t[v];g.has(R.key)||a(R,l)}for(;p;)S(b[p-1]);return b}function rn(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],s=e[r];if(s){for(const a in l)a in s||(i[a]=1);for(const a in s)o[a]||(n[a]=s[a],o[a]=1);t[r]=s}else for(const a in l)o[a]=1}for(const l in i)l in n||(n[l]=void 0);return n}function an(t){return typeof t=="object"&&t!==null?t:{}}function Ne(t){t&&t.c()}function Be(t,e,n){const{fragment:i,on_mount:o,on_destroy:r,after_update:l}=t.$$;i&&i.m(e,n),kn(()=>{const s=o.map(zo).filter(Gn);r?r.push(...s):St(s),t.$$.on_mount=[]}),l.forEach(kn)}function Ie(t,e){const n=t.$$;n.fragment!==null&&(St(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ul(t,e){t.$$.dirty[0]===-1&&(mn.push(t),Eo(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ze(t,e,n,i,o,r,l=[-1]){const s=Un;oi(t);const a=e.props||{},c=t.$$={fragment:null,ctx:null,props:r,update:he,not_equal:o,bound:Ei(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:Ei(),dirty:l};let d=!1;if(c.ctx=n?n(t,a,(h,v,...p)=>{const k=p.length?p[0]:v;return c.ctx&&o(c.ctx[h],c.ctx[h]=k)&&(c.bound[h]&&c.bound[h](k),d&&ul(t,h)),v}):[],c.update(),d=!0,St(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const h=ll(e.target);c.fragment&&c.fragment.l(h),h.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&X(t.$$.fragment),Be(t,e.target,e.anchor),Ro()}oi(s)}class xe{$destroy(){Ie(this,1),this.$destroy=he}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(){}}const on=[];function fl(t,e){return{subscribe:Ke(t,e).subscribe}}function Ke(t,e=he){let n;const i=[];function o(s){if(Xe(t,s)&&(t=s,n)){const a=!on.length;for(let c=0;c<i.length;c+=1){const d=i[c];d[1](),on.push(d,t)}if(a){for(let c=0;c<on.length;c+=2)on[c][0](on[c+1]);on.length=0}}}function r(s){o(s(t))}function l(s,a=he){const c=[s,a];return i.push(c),i.length===1&&(n=e(o)||he),s(t),()=>{const d=i.indexOf(c);d!==-1&&i.splice(d,1),i.length===0&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function jn(t,e,n){const i=!Array.isArray(t),o=i?[t]:t,r=e.length<2;return fl(n,l=>{let s=!1;const a=[];let c=0,d=he;const h=()=>{if(c)return;d();const p=e(i?a[0]:a,l);r?l(p):d=Gn(p)?p:he},v=o.map((p,k)=>ri(p,f=>{a[k]=f,c&=~(1<<k),s&&h()},()=>{c|=1<<k}));return s=!0,h(),function(){St(v),d()}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function dl(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function ai(){const{subscribe:t,set:e,update:n}=Ke({ids:[],entities:{}});return{set:e,_update:n,subscribe:t,add:i=>n(({ids:o,entities:r})=>({ids:[...o,i.model.id],entities:Object.assign(Object.assign({},r),{[i.model.id]:i})})),delete:i=>n(o=>{const r=o.entities,l=i;r[l];const s=dl(r,[typeof l=="symbol"?l:l+""]);return{ids:o.ids.filter(a=>a!==i),entities:s}}),deleteAll:i=>n(o=>{const r=Object.assign({},o.entities),l={};return i.forEach(s=>{delete r[s],l[s]=!0}),{ids:o.ids.filter(s=>!l[s]),entities:r}}),update:i=>n(({ids:o,entities:r})=>({ids:o,entities:Object.assign(Object.assign({},r),{[i.model.id]:i})})),upsert:i=>n(({ids:o,entities:r})=>({ids:o.indexOf(i.model.id)!==-1?o:[...o,i.model.id],entities:Object.assign(Object.assign({},r),{[i.model.id]:i})})),upsertAll:i=>n(o=>{const r=Object.assign({},o.entities),l=[...o.ids];return i.forEach(s=>{r[s.model.id]||l.push(s.model.id),r[s.model.id]=s}),{ids:l,entities:r}}),addAll:i=>{const o=[],r={};for(const l of i)o.push(l.model.id),r[l.model.id]=l;e({ids:o,entities:r})},refresh:()=>n(i=>Object.assign({},i))}}const nt=ai(),Rt=ai(),Fn=ai(),Wo=ci(nt),hl=ci(Rt),gl=ci(Fn),ml=jn(Wo,t=>t.reduce((e,n)=>(e[n.model.resourceId]||(e[n.model.resourceId]=[]),e[n.model.resourceId].push(n.model.id),e),{}));function ci(t){return jn(t,({ids:e,entities:n})=>e.map(i=>n[i]))}function bl(t){return t.which===1}function sn(t,e){const n=t.getBoundingClientRect(),i=e.clientX-n.left,o=e.clientY-n.top;return{x:i,y:o}}function wl(t,e,n,i,o){t.addEventListener(e,function r(l){t.removeEventListener(e,r,o),n.apply(this,arguments,i)})}function pn(t,e=document.body){e.style.cursor=t}const _l=2,pl=2;class Qn{constructor(e,n){this.dragging=!1,this.resizing=!1,this.resizeTriggered=!1,this.onmousedown=i=>{if(!bl(i))return;i.stopPropagation(),i.preventDefault();const o=this.dragAllowed,r=this.resizeAllowed;if(o||r){const l=this.settings.getX(i),s=this.settings.getY(i),a=this.settings.getWidth();this.initialX=i.clientX,this.initialY=i.clientY,this.mouseStartPosX=sn(this.settings.container,i).x-l,this.mouseStartPosY=sn(this.settings.container,i).y-s,this.mouseStartRight=l+a,r&&this.mouseStartPosX<this.settings.resizeHandleWidth&&(this.direction="left",this.resizing=!0),r&&this.mouseStartPosX>a-this.settings.resizeHandleWidth&&(this.direction="right",this.resizing=!0),o&&!this.resizing&&(this.dragging=!0),(this.dragging||this.resizing)&&this.settings.onDown&&this.settings.onDown({mouseEvent:i,x:l,width:a,y:s,resizing:this.resizing,dragging:this.dragging}),window.addEventListener("mousemove",this.onmousemove,!1),wl(window,"mouseup",this.onmouseup)}},this.onmousemove=i=>{if(!this.resizeTriggered)if(Math.abs(i.clientX-this.initialX)>_l||Math.abs(i.clientY-this.initialY)>pl)this.resizeTriggered=!0;else return;if(i.preventDefault(),this.resizing){const o=sn(this.settings.container,i),r=this.settings.getX(i),l=this.settings.getWidth();let s,a;this.direction==="left"?o.x>r+l?(this.direction="right",s=this.mouseStartRight,a=this.mouseStartRight-o.x,this.mouseStartRight=this.mouseStartRight+l):(s=o.x,a=this.mouseStartRight-o.x):this.direction==="right"&&(o.x<=r?(this.direction="left",s=o.x,a=r-o.x,this.mouseStartRight=r):(s=r,a=o.x-r)),this.settings.onResize&&this.settings.onResize({mouseEvent:i,x:s,width:a})}if(this.dragging&&this.settings.onDrag){const o=sn(this.settings.container,i);this.settings.onDrag({mouseEvent:i,x:o.x-this.mouseStartPosX,y:o.y-this.mouseStartPosY})}},this.onmouseup=i=>{const o=this.settings.getX(i),r=this.settings.getY(i),l=this.settings.getWidth();this.settings.onMouseUp&&this.settings.onMouseUp(),this.resizeTriggered&&this.settings.onDrop&&this.settings.onDrop({mouseEvent:i,x:o,y:r,width:l,dragging:this.dragging,resizing:this.resizing}),this.dragging=!1,this.resizing=!1,this.direction=null,this.resizeTriggered=!1,window.removeEventListener("mousemove",this.onmousemove,!1)},this.settings=n,this.node=e,e.addEventListener("mousedown",this.onmousedown,!1)}get dragAllowed(){return typeof this.settings.dragAllowed=="function"?this.settings.dragAllowed():this.settings.dragAllowed}get resizeAllowed(){return typeof this.settings.resizeAllowed=="function"?this.settings.resizeAllowed():this.settings.resizeAllowed}destroy(){this.node.removeEventListener("mousedown",this.onmousedown,!1),this.node.removeEventListener("mousemove",this.onmousemove,!1),this.node.removeEventListener("mouseup",this.onmouseup,!1)}}class vl{constructor(e){this.handlerMap={},this.register("row",n=>{let o=document.elementsFromPoint(n.clientX,n.clientY).find(r=>!!r.getAttribute("data-row-id"));if(o!==void 0){const r=o.getAttribute("data-row-id"),{entities:l}=el(e),s=l[r];if(s.model.enableDragging)return s}return null})}register(e,n){this.handlerMap[e]=n}getTarget(e,n){var i=this.handlerMap[e];if(i)return i(n)}}class kl{constructor(e){this.columnService=e}createTask(e){e.amountDone=e.amountDone||0,e.classes=e.classes||"",e.from=e.from||null,e.to=e.to||null,e.label=e.label||void 0,e.html=e.html||void 0,e.showButton=e.showButton||!1,e.buttonClasses=e.buttonClasses||"",e.buttonHtml=e.buttonHtml||"",e.enableDragging=e.enableDragging===void 0?!0:e.enableDragging;const n=this.columnService.getPositionByDate(e.from)|0,i=this.columnService.getPositionByDate(e.to)|0;return{model:e,left:n,width:i-n,height:this.getHeight(e),top:this.getPosY(e),reflections:[]}}createTasks(e){return e.map(n=>this.createTask(n))}row(e){return this.rowEntities[e]}getHeight(e){return this.row(e.resourceId).height-2*this.rowPadding}getPosY(e){return this.row(e.resourceId).y+this.rowPadding}}function Nn(t,e,n){const i=`reflected-task-${t.model.id}-${e.model.id}`,o=Object.assign(Object.assign({},t.model),{resourceId:e.model.id,id:i,enableDragging:!1});return Object.assign(Object.assign({},t),{model:o,top:e.y+n.rowPadding,reflected:!0,reflectedOnParent:!1,reflectedOnChild:!0,originalId:t.model.id})}function Ue(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var yl='.sg-label-bottom.svelte-6l5eiz{position:absolute;top:calc(100% + 10px);color:#888}.debug.svelte-6l5eiz{position:absolute;top:-10px;right:0;font-size:8px;color:black}.sg-task.svelte-6l5eiz{position:absolute;white-space:nowrap;transition:background-color 0.2s, opacity 0.2s;pointer-events:all}.sg-task{background:rgb(116, 191, 255)}.sg-task-background.svelte-6l5eiz{position:absolute;height:100%;top:0}.sg-task-content.svelte-6l5eiz{position:absolute;height:100%;top:0;padding-left:14px;font-size:14px;display:flex;align-items:center;justify-content:flex-start}.sg-task.svelte-6l5eiz:not(.moving){transition:transform 0.2s, background-color 0.2s, width 0.2s}.sg-task.moving.svelte-6l5eiz{z-index:1;opacity:0.5}.sg-task.dragging-enabled.svelte-6l5eiz:hover::before{content:"";width:4px;height:50%;top:25%;position:absolute;border-style:solid;border-color:rgba(255, 255, 255, 0.5);cursor:ew-resize;margin-left:3px;left:0;border-width:0 1px;z-index:1}.sg-task.dragging-enabled.svelte-6l5eiz:hover::after{content:"";width:4px;height:50%;top:25%;position:absolute;border-style:solid;border-color:rgba(255, 255, 255, 0.5);cursor:ew-resize;margin-right:3px;right:0;border-width:0 1px;z-index:1}.sg-task.selected.svelte-6l5eiz{outline:2px solid rgba(3, 169, 244, 0.5);outline-offset:3px;z-index:1}.sg-task-reflected.svelte-6l5eiz{opacity:0.5}.sg-task-background.svelte-6l5eiz{background:rgba(0, 0, 0, 0.2)}.sg-task{color:white;background:rgb(116, 191, 255)}.sg-task:hover{background:rgb(98, 161, 216)}.sg-task.selected{background:rgb(69, 112, 150)}';Ue(yl);function Si(t){let e;return{c(){e=P("div"),z(e,"class","sg-task-background svelte-6l5eiz"),W(e,"width",t[0].amountDone+"%")},m(n,i){B(n,e,i)},p(n,i){i[0]&1&&W(e,"width",n[0].amountDone+"%")},d(n){n&&A(e)}}}function Tl(t){let e=t[0].label+"",n;return{c(){n=Tt(e)},m(i,o){B(i,n,o)},p(i,o){o[0]&1&&e!==(e=i[0].label+"")&&Pt(n,e)},d(i){i&&A(n)}}}function zl(t){let e,n=t[9](t[0])+"";return{c(){e=new Gt(null)},m(i,o){e.m(n,i,o)},p(i,o){o[0]&1&&n!==(n=i[9](i[0])+"")&&e.p(n)},d(i){i&&e.d()}}}function Dl(t){let e,n=t[0].html+"";return{c(){e=new Gt(null)},m(i,o){e.m(n,i,o)},p(i,o){o[0]&1&&n!==(n=i[0].html+"")&&e.p(n)},d(i){i&&e.d()}}}function Oi(t){let e,n=t[0].buttonHtml+"",i,o,r;return{c(){e=P("span"),z(e,"class",i="sg-task-button "+t[0].buttonClasses+" svelte-6l5eiz")},m(l,s){B(l,e,s),e.innerHTML=n,o||(r=yt(e,"click",t[3]),o=!0)},p(l,s){s[0]&1&&n!==(n=l[0].buttonHtml+"")&&(e.innerHTML=n),s[0]&1&&i!==(i="sg-task-button "+l[0].buttonClasses+" svelte-6l5eiz")&&z(e,"class",i)},d(l){l&&A(e),o=!1,r()}}}function Hi(t){let e,n=t[0].labelBottom+"",i;return{c(){e=P("label"),i=Tt(n),z(e,"class","sg-label-bottom svelte-6l5eiz")},m(o,r){B(o,e,r),N(e,i)},p(o,r){r[0]&1&&n!==(n=o[0].labelBottom+"")&&Pt(i,n)},d(o){o&&A(e)}}}function Cl(t){let e,n,i,o,r,l,s,a,c,d,h=t[0].amountDone&&Si(t);function v(g,_){return g[0].html?Dl:g[9]?zl:Tl}let p=v(t),k=p(t),f=t[0].showButton&&Oi(t),b=t[0].labelBottom&&Hi(t);return{c(){e=P("div"),h&&h.c(),n=ze(),i=P("div"),k.c(),o=ze(),f&&f.c(),r=ze(),b&&b.c(),z(i,"class","sg-task-content svelte-6l5eiz"),z(e,"data-task-id",l=t[0].id),z(e,"class",s="sg-task "+t[0].classes+" svelte-6l5eiz"),W(e,"width",t[6].width+"px"),W(e,"height",t[1]+"px"),W(e,"transform","translate("+t[6].x+"px, "+t[6].y+"px)"),te(e,"moving",t[4]||t[5]),te(e,"selected",t[7]),te(e,"animating",Li),te(e,"sg-task-reflected",t[2]),te(e,"dragging-enabled",t[8].model.enableDragging)},m(g,_){B(g,e,_),h&&h.m(e,null),N(e,n),N(e,i),k.m(i,null),N(i,o),f&&f.m(i,null),N(e,r),b&&b.m(e,null),c||(d=[yt(e,"dblclick",t[34]),Wt(t[12].call(null,e)),Wt(a=t[13].call(null,e,t[0]))],c=!0)},p(g,_){g[0].amountDone?h?h.p(g,_):(h=Si(g),h.c(),h.m(e,n)):h&&(h.d(1),h=null),p===(p=v(g))&&k?k.p(g,_):(k.d(1),k=p(g),k&&(k.c(),k.m(i,o))),g[0].showButton?f?f.p(g,_):(f=Oi(g),f.c(),f.m(i,null)):f&&(f.d(1),f=null),g[0].labelBottom?b?b.p(g,_):(b=Hi(g),b.c(),b.m(e,null)):b&&(b.d(1),b=null),_[0]&1&&l!==(l=g[0].id)&&z(e,"data-task-id",l),_[0]&1&&s!==(s="sg-task "+g[0].classes+" svelte-6l5eiz")&&z(e,"class",s),_[0]&64&&W(e,"width",g[6].width+"px"),_[0]&2&&W(e,"height",g[1]+"px"),_[0]&64&&W(e,"transform","translate("+g[6].x+"px, "+g[6].y+"px)"),a&&Gn(a.update)&&_[0]&1&&a.update.call(null,g[0]),_[0]&49&&te(e,"moving",g[4]||g[5]),_[0]&129&&te(e,"selected",g[7]),_[0]&1&&te(e,"animating",Li),_[0]&5&&te(e,"sg-task-reflected",g[2]),_[0]&257&&te(e,"dragging-enabled",g[8].model.enableDragging)},i:he,o:he,d(g){g&&A(e),h&&h.d(),k.d(),f&&f.d(),b&&b.d(),c=!1,St(d)}}}let Li=!0;function El(t,e,n){let i,o,r,l;U(t,Rt,M=>n(18,i=M)),U(t,nt,M=>n(19,o=M));let{model:s}=e,{height:a}=e,{left:c}=e,{top:d}=e,{width:h}=e,{reflected:v=!1}=e,p=!1,k=!1,f={x:c,y:d,width:h};function b(M,we,qe){!p&&!k&&(n(6,f.x=M,f),n(6,f.y=we,f),n(6,f.width=qe,f))}const{dimensionsChanged:g}=De("dimensions"),{rowContainer:_}=De("gantt"),{taskContent:F,resizeHandleWidth:Y,rowPadding:S,onTaskButtonClick:R,reflectOnParentRows:q,reflectOnChildRows:O,taskElementHook:Z}=De("options");U(t,S,M=>n(20,r=M));const{dndManager:ue,api:re,utils:fe,selectionManager:ne,columnService:ce}=De("services");function He(M){const we=x=>{let Re=!0;const Ee=i.entities[s.resourceId];if(x.dragging){const le=ue.getTarget("row",x.mouseEvent);le?(n(0,s.resourceId=le.model.id,s),re.tasks.raise.switchRow(this,le,Ee)):Re=!1}n(4,p=n(5,k=!1));const Le=o.entities[s.id];if(Re){const le=s.from,$=s.to,We=n(0,s.from=fe.roundTo(ce.getDateByPosition(x.x)),s),m=n(0,s.to=fe.roundTo(ce.getDateByPosition(x.x+x.width)),s),w=ce.getPositionByDate(We)|0,H=ce.getPositionByDate(m)|0,G=i.entities[s.resourceId],L=w,je=H-w,Ge=r+G.y;b(L,Ge,je);const me=Object.assign(Object.assign({},Le),{left:L,width:je,top:Ge,model:s}),_t=le!=We||$!=m||Ee&&Ee.model.id!==G.model.id;_t&&re.tasks.raise.change({task:me,sourceRow:Ee,targetRow:G}),nt.update(me),_t&&re.tasks.raise.changed({task:me,sourceRow:Ee,targetRow:G}),me.reflections&&nt.deleteAll(me.reflections);const Je=[];if(O&&G.allChildren){me.reflections||(me.reflections=[]);const Me={rowPadding:r};G.allChildren.forEach(ot=>{const lt=Nn(me,ot,Me);me.reflections.push(lt.model.id),Je.push(lt)})}if(q&&G.allParents.length>0){me.reflections||(me.reflections=[]);const Me={rowPadding:r};G.allParents.forEach(ot=>{const lt=Nn(me,ot,Me);me.reflections.push(lt.model.id),Je.push(lt)})}Je.length>0&&nt.upsertAll(Je),!(G.allParents.length>0)&&!G.allChildren&&(me.reflections=null)}else n(6,f.x=Le.left,f),n(6,f.width=Le.width,f),n(6,f.y=Le.top,f)},qe=new Qn(M,{onDown:x=>{x.dragging&&pn("move"),x.resizing&&pn("e-resize")},onMouseUp:()=>{pn("default")},onResize:x=>{n(6,f.x=x.x,f),n(6,f.width=x.width,f),n(5,k=!0)},onDrag:x=>{n(6,f.x=x.x,f),n(6,f.y=x.y,f),n(4,p=!0)},dragAllowed:()=>ve.model.enableDragging&&s.enableDragging,resizeAllowed:()=>ve.model.enableDragging&&s.enableDragging,onDrop:we,container:_,resizeHandleWidth:Y,getX:()=>f.x,getY:()=>f.y,getWidth:()=>f.width});return{destroy:()=>qe.destroy()}}function Ce(M,we){if(Z)return Z(M,we)}function y(M){R&&R(s)}let oe=ne.selection;U(t,oe,M=>n(21,l=M));let ge=!1,ve;const it=()=>{re.tasks.raise.dblclicked(s)};return t.$set=M=>{"model"in M&&n(0,s=M.model),"height"in M&&n(1,a=M.height),"left"in M&&n(15,c=M.left),"top"in M&&n(16,d=M.top),"width"in M&&n(17,h=M.width),"reflected"in M&&n(2,v=M.reflected)},t.$$.update=()=>{t.$$.dirty[0]&229376&&b(c,d,h),t.$$.dirty[0]&2097153&&n(7,ge=l.indexOf(s.id)!==-1),t.$$.dirty[0]&262145&&n(8,ve=i.entities[s.resourceId])},[s,a,v,y,p,k,f,ge,ve,F,S,re,He,Ce,oe,c,d,h,i,o,r,l,b,g,_,Y,R,q,O,Z,ue,fe,ne,ce,it]}class Rl extends xe{constructor(e){super(),Ze(this,e,El,Cl,Xe,{model:0,height:1,left:15,top:16,width:17,reflected:2,onclick:3},[-1,-1])}get onclick(){return this.$$.ctx[3]}}var Wl=".sg-row.svelte-7u5y5s{position:relative;width:100%;box-sizing:border-box}";Ue(Wl);function Pi(t){let e,n=t[0].model.contentHtml+"";return{c(){e=new Gt(null)},m(i,o){e.m(n,i,o)},p(i,o){o&1&&n!==(n=i[0].model.contentHtml+"")&&e.p(n)},d(i){i&&e.d()}}}function Ml(t){let e,n,i,o=t[0].model.contentHtml&&Pi(t);return{c(){e=P("div"),o&&o.c(),z(e,"class",n="sg-row "+t[0].model.classes+" svelte-7u5y5s"),z(e,"data-row-id",i=t[0].model.id),W(e,"height",t[3]+"px"),te(e,"sg-hover",t[1]==t[0].model.id),te(e,"sg-selected",t[2]==t[0].model.id)},m(r,l){B(r,e,l),o&&o.m(e,null)},p(r,[l]){r[0].model.contentHtml?o?o.p(r,l):(o=Pi(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null),l&1&&n!==(n="sg-row "+r[0].model.classes+" svelte-7u5y5s")&&z(e,"class",n),l&1&&i!==(i=r[0].model.id)&&z(e,"data-row-id",i),l&8&&W(e,"height",r[3]+"px"),l&3&&te(e,"sg-hover",r[1]==r[0].model.id),l&5&&te(e,"sg-selected",r[2]==r[0].model.id)},i:he,o:he,d(r){r&&A(e),o&&o.d()}}}function Sl(t,e,n){let i,o,r,{row:l}=e;const{rowHeight:s}=De("options");U(t,s,d=>n(3,r=d));const{hoveredRow:a,selectedRow:c}=De("gantt");return U(t,a,d=>n(1,i=d)),U(t,c,d=>n(2,o=d)),t.$set=d=>{"row"in d&&n(0,l=d.row)},[l,i,o,r,s,a,c]}class Ol extends xe{constructor(e){super(),Ze(this,e,Sl,Ml,Xe,{row:0})}}var Hl=".sg-milestone.svelte-10k3w4l.svelte-10k3w4l{position:absolute;top:0;bottom:0;white-space:nowrap;height:20px;width:20px;min-width:40px;margin-left:-20px;display:flex;align-items:center;flex-direction:column;transition:background-color 0.2s, opacity 0.2s}.sg-milestone.svelte-10k3w4l .inside.svelte-10k3w4l{position:relative}.sg-milestone.svelte-10k3w4l .inside.svelte-10k3w4l:before{position:absolute;top:0;left:0;content:' ';height:28px;width:28px;transform-origin:0 0;transform:rotate(45deg);background-color:#feac31;border-color:#feac31}.sg-milestone.svelte-10k3w4l.svelte-10k3w4l:not(.moving){transition:transform 0.2s, background-color 0.2s, width 0.2s}.sg-milestone.moving.svelte-10k3w4l.svelte-10k3w4l{z-index:1}.sg-milestone.selected.svelte-10k3w4l.svelte-10k3w4l{outline:2px solid rgba(3, 169, 244, 0.5);outline-offset:3px;z-index:1}";Ue(Hl);var Ll=".sg-time-range.svelte-ezlpj0{height:100%;position:absolute;display:flex;flex-direction:column;align-items:center;background-image:linear-gradient(-45deg, rgba(0, 0, 0, 0) 46%, #e03218 49%, #e03218 51%, rgba(0, 0, 0, 0) 55%);background-size:6px 6px !important;color:red;font-weight:400}.sg-time-range-label.svelte-ezlpj0{margin-top:10px;background:#fff;white-space:nowrap;padding:4px;font-weight:400;font-size:10px}";Ue(Ll);function Pl(t){let e,n,i=t[0].label+"",o,r;return{c(){e=P("div"),n=P("div"),o=Tt(i),z(n,"class","sg-time-range-label svelte-ezlpj0"),z(e,"class",r="sg-time-range "+(t[0].classes?Array.isArray(t[0].classes)?t[0].classes.join(" "):t[0].classes:"")+" svelte-ezlpj0"),W(e,"width",t[2].width+"px"),W(e,"left",t[2].x+"px"),te(e,"moving",t[1])},m(l,s){B(l,e,s),N(e,n),N(n,o)},p(l,[s]){s&1&&i!==(i=l[0].label+"")&&Pt(o,i),s&1&&r!==(r="sg-time-range "+(l[0].classes?Array.isArray(l[0].classes)?l[0].classes.join(" "):l[0].classes:"")+" svelte-ezlpj0")&&z(e,"class",r),s&4&&W(e,"width",l[2].width+"px"),s&4&&W(e,"left",l[2].x+"px"),s&3&&te(e,"moving",l[1])},i:he,o:he,d(l){l&&A(e)}}}function Al(t,e,n){let{model:i}=e,{left:o}=e,{width:r}=e,{resizing:l=!1}=e;const s={width:r,x:o};return t.$set=a=>{"model"in a&&n(0,i=a.model),"left"in a&&n(3,o=a.left),"width"in a&&n(4,r=a.width),"resizing"in a&&n(1,l=a.resizing)},t.$$.update=()=>{t.$$.dirty&24&&(n(2,s.x=o,s),n(2,s.width=r,s))},[i,l,s,o,r]}class Yl extends xe{constructor(e){super(),Ze(this,e,Al,Pl,Xe,{model:0,left:3,width:4,resizing:1})}}var Bl=".sg-time-range-control.svelte-1hnnt3v{position:absolute}.sg-time-range-handle-left.svelte-1hnnt3v{position:absolute;left:0}.sg-time-range-handle-right.svelte-1hnnt3v{position:absolute;right:0}.sg-time-range-handle-left.svelte-1hnnt3v::before,.sg-time-range-handle-right.svelte-1hnnt3v::before{position:absolute;content:'';bottom:4px;border-radius:6px 6px 6px 0;border:2px solid #b0b0b7;width:9px;height:9px;transform:translateX(-50%) rotate(-45deg);background-color:#fff;border-color:#e03218;cursor:ew-resize}";Ue(Bl);function Il(t){let e,n,i,o,r,l;return{c(){e=P("div"),n=P("div"),i=ze(),o=P("div"),z(n,"class","sg-time-range-handle-left svelte-1hnnt3v"),z(o,"class","sg-time-range-handle-right svelte-1hnnt3v"),z(e,"class","sg-time-range-control svelte-1hnnt3v"),W(e,"width",t[0].width+"px"),W(e,"left",t[0].x+"px")},m(s,a){B(s,e,a),N(e,n),N(e,i),N(e,o),r||(l=[Wt(t[1].call(null,n)),Wt(t[1].call(null,o)),Wt(t[2].call(null,e))],r=!0)},p(s,[a]){a&1&&W(e,"width",s[0].width+"px"),a&1&&W(e,"left",s[0].x+"px")},i:he,o:he,d(s){s&&A(e),r=!1,St(l)}}}function Ul(t,e,n){const{rowContainer:i}=De("gantt"),{utils:o,columnService:r}=De("services"),{resizeHandleWidth:l}=De("options");De("dimensions");const{api:s}=De("services");let{model:a}=e,{width:c}=e,{left:d}=e;const h={width:c,x:d};function v(k){const f=_=>{const F=o.roundTo(r.getDateByPosition(_.x)),Y=o.roundTo(r.getDateByPosition(_.x+_.width)),S=r.getPositionByDate(F),R=r.getPositionByDate(Y);Object.assign(a,{from:F,to:Y}),b({left:S,width:R-S,model:a,resizing:!1}),window.removeEventListener("mousemove",onmousemove,!1)};function b(_){Fn.update(_),n(0,h.x=_.left,h),n(0,h.width=_.width,h)}const g=new Qn(k,{onDown:_=>{s.timeranges.raise.clicked({model:a}),b({left:_.x,width:_.width,model:a,resizing:!0})},onResize:_=>{s.timeranges.raise.resized({model:a,left:_.x,width:_.width}),b({left:_.x,width:_.width,model:a,resizing:!0})},dragAllowed:!1,resizeAllowed:!0,onDrop:f,container:i,resizeHandleWidth:l,getX:()=>h.x,getY:()=>0,getWidth:()=>h.width});return{destroy:()=>g.destroy()}}function p(k){a.classes&&k.classList.add(a.classes)}return t.$set=k=>{"model"in k&&n(3,a=k.model),"width"in k&&n(4,c=k.width),"left"in k&&n(5,d=k.left)},t.$$.update=()=>{t.$$.dirty&48&&(n(0,h.x=d,h),n(0,h.width=c,h))},[h,v,p,a,c,d]}class jl extends xe{constructor(e){super(),Ze(this,e,Ul,Il,Xe,{model:3,width:4,left:5})}}var Fl=".column.svelte-1mx1tfz{position:absolute;height:100%;box-sizing:border-box}.column.svelte-1mx1tfz{border-right:#efefef 1px solid}";Ue(Fl);class dr{constructor(e){this.moment=e}format(e,n){return this.moment(e).format(n)}}class Nl{format(e,n){const i=new Date(e);switch(n){case"H":return i.getHours()+"";case"HH":return ln(i.getHours());case"H:mm":return`${i.getHours()}:${ln(i.getMinutes())}`;case"hh:mm":return`${ln(i.getHours())}:${ln(i.getMinutes())}`;case"hh:mm:ss":return`${i.getHours()}:${ln(i.getMinutes())}:${ln(i.getSeconds())}`;case"dd/MM/yyyy":return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`;case"dd/MM/yyyy hh:mm":return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()} ${i.getHours()}:${i.getMinutes()}`;case"dd/MM/yyyy hh:mm:ss":return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()} ${i.getHours()}:${i.getMinutes()}:${i.getSeconds()}`;case"YYYY":return`${i.getFullYear()}`;case"Q":return`${Math.floor(i.getMonth()/3+1)}`;case"[Q]Q":return`Q${Math.floor(i.getMonth()/3+1)}`;case"YYYY[Q]Q":return`${i.getFullYear()}Q${Math.floor(i.getMonth()/3+1)}`;case"MM":var o=String(i.getMonth()+1);return o.length==1&&(o=`0${o}`),`${o}`;case"MMMM":var o=i.toLocaleString("default",{month:"long"});return`${o.charAt(0).toUpperCase()}${o.substring(1)}`;case"MMMM - YYYY":var o=i.toLocaleString("default",{month:"long"});return`${o.charAt(0).toUpperCase()}${o.substring(1)}-${i.getFullYear()}`;case"MMMM YYYY":var o=i.toLocaleString("default",{month:"long"});return`${o.charAt(0).toUpperCase()}${o.substring(1)} ${i.getFullYear()}`;case"MMM":var o=i.toLocaleString("default",{month:"short"});return`${o.charAt(0).toUpperCase()}${o.substring(1)}`;case"MMM - YYYY":var o=i.toLocaleString("default",{month:"short"});return`${o.charAt(0).toUpperCase()}${o.substring(1)} - ${i.getFullYear()}`;case"MMM YYYY":var o=i.toLocaleString("default",{month:"short"});return`${o.charAt(0).toUpperCase()}${o.substring(1)} ${i.getFullYear()}`;case"W":return`${Ai(i)}`;case"WW":const r=Ai(i);return`${r.toString().length==1?"0":""}${r}`;default:return console.warn(`Date Format "${n}" is not supported, use another date adapter.`),`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`}}}function ln(t){let e=t.toString();for(let n=e.length;n<2;n++)e="0"+e;return e}function Xl(t,e){let n=new Date(t),i=n.getFullYear(),o=n.getMonth(),r=n.getDate();switch(e){case"y":case"year":return Sn(i,0,1);case"month":return Sn(i,o,1);case"week":return Sn(i,o,r,!0);case"d":case"day":return Sn(i,o,r);case"h":case"hour":return n.setMinutes(0,0,0),n.valueOf();case"m":case"minute":case"s":case"second":let l=yn(e);return Math.floor(t/l)*l;default:throw new Error(`Unknown unit: ${e}`)}}function Sn(t,e,n,i=!1){return t<100&&t>=0?new Date(t+400,e,n).valueOf()-31536e6:i?ql(new Date(t,e,n).valueOf()).valueOf():new Date(t,e,n).valueOf()}function Ai(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));const e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.valueOf()-e.valueOf())/864e5+1)/7)}function ql(t){const e=new Date(t),n=e.getDay(),i=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(i))}function yn(t,e=1){switch(t){case"y":case"year":return e*31536e6;case"month":return e*30*24*60*60*1e3;case"week":return e*7*24*60*60*1e3;case"d":case"day":return e*24*60*60*1e3;case"h":case"hour":return e*60*60*1e3;case"m":case"minute":return e*60*1e3;case"s":case"second":return e*1e3;default:throw new Error(`Unknown unit: ${t}`)}}var Gl=".column-header-row.svelte-1eoeq9j.svelte-1eoeq9j{box-sizing:border-box;white-space:nowrap;height:32px}.column-header-cell.svelte-1eoeq9j.svelte-1eoeq9j{display:inline-block;height:100%;box-sizing:border-box;text-overflow:clip;text-align:center;display:inline-flex;justify-content:center;align-items:center;font-size:1em;font-size:14px;font-weight:300;transition:background 0.2s;cursor:pointer;user-select:none;border-right:#efefef 1px solid;border-bottom:#efefef 1px solid}.column-header-cell.svelte-1eoeq9j.svelte-1eoeq9j:hover{background:#f9f9f9}.column-header-cell.sticky.svelte-1eoeq9j>.column-header-cell-label.svelte-1eoeq9j{position:sticky;left:1rem}";Ue(Gl);function Yi(t,e,n){const i=t.slice();return i[15]=e[n],i}function Bi(t){let e,n,i=(t[15].label||"N/A")+"",o,r,l,s;function a(...c){return t[14](t[15],...c)}return{c(){e=P("div"),n=P("div"),o=Tt(i),r=ze(),z(n,"class","column-header-cell-label svelte-1eoeq9j"),z(e,"class","column-header-cell svelte-1eoeq9j"),W(e,"width",t[15].width+"px"),te(e,"sticky",t[0].sticky)},m(c,d){B(c,e,d),N(e,n),N(n,o),N(e,r),l||(s=yt(e,"click",a),l=!0)},p(c,d){t=c,d&2&&i!==(i=(t[15].label||"N/A")+"")&&Pt(o,i),d&2&&W(e,"width",t[15].width+"px"),d&1&&te(e,"sticky",t[0].sticky)},d(c){c&&A(e),l=!1,s()}}}function Vl(t){let e,n=t[1],i=[];for(let o=0;o<n.length;o+=1)i[o]=Bi(Yi(t,n,o));return{c(){e=P("div");for(let o=0;o<i.length;o+=1)i[o].c();z(e,"class","column-header-row svelte-1eoeq9j")},m(o,r){B(o,e,r);for(let l=0;l<i.length;l+=1)i[l].m(e,null)},p(o,[r]){if(r&7){n=o[1];let l;for(l=0;l<n.length;l+=1){const s=Yi(o,n,l);i[l]?i[l].p(s,r):(i[l]=Bi(s),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},i:he,o:he,d(o){o&&A(e),qt(i,o)}}}function Ql(t,e,n){let i,o;const r=Dn(),{from:l,to:s,width:a}=De("dimensions");U(t,l,_=>n(10,o=_)),U(t,a,_=>n(9,i=_));const{dateAdapter:c}=De("options");let{header:d}=e,{baseWidth:h}=e,{baseDuration:v}=e,{columnWidth:p}=e,{columnCount:k}=e,f=[];function b(_,F,Y,S=1){let R=new Date(F),q=[];if(_=="month"){let Z=[0,2,4,6,7,9,11];for(let ue=0;ue<Y;ue++){let re=0;for(let fe=0;fe<S;fe++){let ne=0;const ce=R.getMonth();ce==1?ne=(Ce=>new Date(Ce,1,29).getDate()===29)(R.getFullYear())?-1:-2:Z.includes(ce)&&(ne=1,ce==9?ne+=1/24:ce==2&&(ne-=1/24)),re+=ne,R=new Date(R.setMonth(R.getMonth()+d.offset))}q[ue]=re}}else if(_=="year")for(let Z=0;Z<Y;Z++){let ue=0;R.getFullYear()%4==0&&(ue=1),q[Z]=ue,R=new Date(R.setFullYear(R.getFullYear()+d.offset))}return new Promise(Z=>{Z(q)})}const g=_=>r("dateSelected",{from:_.from,to:_.to,unit:_.unit});return t.$set=_=>{"header"in _&&n(0,d=_.header),"baseWidth"in _&&n(7,h=_.baseWidth),"baseDuration"in _&&n(8,v=_.baseDuration),"columnWidth"in _&&n(5,p=_.columnWidth),"columnCount"in _&&n(6,k=_.columnCount)},t.$$.update=()=>{if(t.$$.dirty&385){n(0,d.duration=yn(d.unit,d.offset),d);const F=d.duration/v;n(5,p=h*F)}if(t.$$.dirty&608&&(n(6,k=Math.ceil(i/p)),isFinite(k)||(console.error("columnCount is not finite"),n(6,k=0))),t.$$.dirty&1633){const _=[];let F=Xl(o,d.unit);if(d.unit=="month"||d.unit=="year")b(d.unit,F,k,(d==null?void 0:d.offset)||1).then(Y=>{let S=Y;for(let R=0;R<k;R++){_.push({width:Math.min(p,i),label:c.format(F,d.format),from:F,to:F+d.duration,unit:d.unit});const q=24*60*60*1e3*S[R];F+=d.duration+q}n(1,f=_)});else{for(let Y=0;Y<k;Y++)_.push({width:Math.min(p,i),label:c.format(F,d.format),from:F,to:F+d.duration,unit:d.unit}),F+=d.duration;n(1,f=_)}}},[d,f,r,l,a,p,k,h,v,i,o,s,c,b,g]}class Kl extends xe{constructor(e){super(),Ze(this,e,Ql,Vl,Xe,{header:0,baseWidth:7,baseDuration:8,columnWidth:5,columnCount:6})}}class Zl{constructor(){}getPositionByDate(e){return Xn(e,this.from,this.from+this.totalColumnDuration,this.totalColumnWidth)}getDateByPosition(e){return xl(e,this.from,this.from+this.totalColumnDuration,this.totalColumnWidth)}roundTo(e){return Math.round(e/this.magnetDuration)*this.magnetDuration}}function Xn(t,e,n,i){if(!t)return;let o=t-e,r=n-e;return o/r*i}function xl(t,e,n,i){let o=t/i*(n-e);return e+o}function Jl(t,e,n,i){let o=-1,r=t.length;for(;r-o>1;){let l=Math.floor((o+r)/2);(i?n(t[l])<e:n(t[l])<=e)?o=l:r=l}return!i&&t[o]!==void 0&&n(t[o])===e&&(r=o),[o,r]}function Mo(t,e,n,i){let o=Jl(t,e,n,i);return[t[o[0]],t[o[1]]]}function Ii(t,e,n){const i=t.slice();return i[13]=e[n],i}function Ui(t){let e;const n=new Kl({props:{header:t[13],baseWidth:t[1],baseDuration:t[2]}});return n.$on("dateSelected",t[12]),{c(){Ne(n.$$.fragment)},m(i,o){Be(n,i,o),e=!0},p(i,o){const r={};o&1&&(r.header=i[13]),o&2&&(r.baseWidth=i[1]),o&4&&(r.baseDuration=i[2]),n.$set(r)},i(i){e||(X(n.$$.fragment,i),e=!0)},o(i){K(n.$$.fragment,i),e=!1},d(i){Ie(n,i)}}}function $l(t){let e,n,i=t[0],o=[];for(let l=0;l<i.length;l+=1)o[l]=Ui(Ii(t,i,l));const r=l=>K(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=zt()},m(l,s){for(let a=0;a<o.length;a+=1)o[a].m(l,s);B(l,e,s),n=!0},p(l,[s]){if(s&7){i=l[0];let a;for(a=0;a<i.length;a+=1){const c=Ii(l,i,a);o[a]?(o[a].p(c,s),X(o[a],1)):(o[a]=Ui(c),o[a].c(),X(o[a],1),o[a].m(e.parentNode,e))}for(ct(),a=i.length;a<o.length;a+=1)r(a);ut()}},i(l){if(!n){for(let s=0;s<i.length;s+=1)X(o[s]);n=!0}},o(l){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)K(o[s]);n=!1},d(l){qt(o,l),l&&A(e)}}}function es(t,e,n){let i,o,r,{headers:l}=e,{columnUnit:s}=e,{columnOffset:a}=e;const{from:c,to:d,width:h}=De("dimensions");U(t,c,b=>n(9,i=b)),U(t,d,b=>n(10,o=b)),U(t,h,b=>n(11,r=b));let v,p,k;function f(b){li(t,b)}return t.$set=b=>{"headers"in b&&n(0,l=b.headers),"columnUnit"in b&&n(6,s=b.columnUnit),"columnOffset"in b&&n(7,a=b.columnOffset)},t.$$.update=()=>{if(t.$$.dirty&193){let b=null,g=null;[...l,{unit:s,offset:a}].forEach(_=>{const F=_.duration=_.duration||yn(_.unit,_.offset);(F<g||g===null)&&(g=F,b=_)}),n(8,v=b)}t.$$.dirty&3842&&(n(1,p=Xn(i+v.duration,i,o,r)|0),p<=0&&console.error("baseHeaderWidth is invalid, columns or headers might be too short for the current view.")),t.$$.dirty&256&&n(2,k=v.duration)},[l,p,k,c,d,h,s,a,v,i,o,r,f]}class ts extends xe{constructor(e){super(),Ze(this,e,es,$l,Xe,{headers:0,columnUnit:6,columnOffset:7})}}var ns=".sg-columns.svelte-19kvsxe{position:absolute;height:100%;width:100%;overflow:hidden;background-repeat:repeat;background-position-x:-1px}";Ue(ns);function ji(t){let e;return{c(){e=P("div"),z(e,"class","sg-columns svelte-19kvsxe"),W(e,"background-image",t[4])},m(n,i){B(n,e,i)},p(n,i){i&16&&W(e,"background-image",n[4])},d(n){n&&A(e)}}}function is(t){let e,n,i,o=t[1]=="day"&&t[2]==1&&t[0]&&ji(t);return{c(){e=P("div"),n=ze(),o&&o.c(),i=zt(),z(e,"class","sg-columns svelte-19kvsxe"),W(e,"background-image",t[3])},m(r,l){B(r,e,l),B(r,n,l),o&&o.m(r,l),B(r,i,l)},p(r,[l]){l&8&&W(e,"background-image",r[3]),r[1]=="day"&&r[2]==1&&r[0]?o?o.p(r,l):(o=ji(r),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},i:he,o:he,d(r){r&&A(e),r&&A(n),o&&o.d(r),r&&A(i)}}}function ni(t,e){t.beginPath(),t.moveTo(e,0),t.lineTo(e,20),t.stroke()}function os(t,e,n){let i,{columns:o=[]}=e,{columnStrokeWidth:r=1}=e,{columnStrokeColor:l="#efefef"}=e,{highlightWeekends:s}=e,{columnUnit:a}=e,{columnOffset:c}=e,{highlightColor:d}=e;const{from:h}=De("dimensions");U(t,h,b=>n(10,i=b));function v(b){const g=document.createElement("canvas");g.width=(b.length-1)*b[0].width,g.height=20;const _=g.getContext("2d");return _.shadowColor="rgba(128,128,128,0.5)",_.shadowOffsetX=0,_.shadowOffsetY=0,_.shadowBlur=.5,_.lineWidth=r,_.lineCap="square",_.strokeStyle=l,_.translate(.5,.5),b.forEach(Y=>{ni(_,Y.left)}),`url("${g.toDataURL()}")`}function p(b){const _=new Date(i).getDay(),F=_==0?7:7-_,Y=document.createElement("canvas");Y.width=b.length*b[0].width,Y.height=20;const S=Y.getContext("2d");return S.shadowColor="rgba(128,128,128,0.5)",S.shadowOffsetX=0,S.shadowOffsetY=0,S.shadowBlur=.5,S.lineWidth=b[0].width,S.lineCap="square",S.strokeStyle=d,S.translate(.5,.5),b.forEach(function(q,O){O==F&&ni(S,q.left-b[0].width/2),O==F+1&&ni(S,q.left-b[0].width/2)}),`url("${Y.toDataURL()}")`}let k,f;return t.$set=b=>{"columns"in b&&n(6,o=b.columns),"columnStrokeWidth"in b&&n(7,r=b.columnStrokeWidth),"columnStrokeColor"in b&&n(8,l=b.columnStrokeColor),"highlightWeekends"in b&&n(0,s=b.highlightWeekends),"columnUnit"in b&&n(1,a=b.columnUnit),"columnOffset"in b&&n(2,c=b.columnOffset),"highlightColor"in b&&n(9,d=b.highlightColor)},t.$$.update=()=>{t.$$.dirty&64&&(n(3,k=v(o.slice(0,5))),n(4,f=p(o.slice(0,7))))},[s,a,c,k,f,h,o,r,l,d]}class ls extends xe{constructor(e){super(),Ze(this,e,os,is,Xe,{columns:6,columnStrokeWidth:7,columnStrokeColor:8,highlightWeekends:0,columnUnit:1,columnOffset:2,highlightColor:9})}}var ss=".sg-context-menu.svelte-1a9x2in{position:absolute;background:white;border:1px solid #ccc;padding:0.25em 0;font-size:10px;transition:opacity 0.4s ease 0s;opacity:1;box-shadow:rgba(0, 0, 0, 0.32) 1px 1px 3px 0px}.context-option.svelte-1a9x2in:hover{background:#eee}.context-option.svelte-1a9x2in{cursor:default;padding:0.2em 1em}";Ue(ss);var rs=".sg-resize.svelte-v0xg82{z-index:2;background:#e9eaeb;width:5px;cursor:col-resize;position:absolute;height:100%;transition:width 0.2s, transform 0.2s}.sg-resize.svelte-v0xg82:hover{transform:translateX(-2px);width:10px}";Ue(rs);function as(t){let e,n,i;return{c(){e=P("div"),z(e,"class","sg-resize svelte-v0xg82"),W(e,"left",t[0]+"px")},m(o,r){B(o,e,r),n||(i=Wt(t[1].call(null,e)),n=!0)},p(o,[r]){r&1&&W(e,"left",o[0]+"px")},i:he,o:he,d(o){o&&A(e),n=!1,i()}}}function cs(t,e,n){const i=Dn();let{x:o=240}=e,{container:r}=e;const l={onDrag:a=>{n(0,o=a.x),i("resize",{left:o}),pn("col-resize")},onDrop:a=>{n(0,o=a.x),i("resize",{left:o}),pn("default")},dragAllowed:!0,resizeAllowed:!1,container:r,getX:()=>o,getY:()=>0,getWidth:()=>0};function s(a){return new Qn(a,l)}return t.$set=a=>{"x"in a&&n(0,o=a.x),"container"in a&&n(2,r=a.container)},t.$$.update=()=>{t.$$.dirty&4&&(l.container=r)},[o,s,r]}class us extends xe{constructor(e){super(),Ze(this,e,cs,as,Xe,{x:0,container:2})}}class fs{constructor(){this.selection=Ke([])}selectSingle(e){this.selection.set([e])}toggleSelection(e){this.selection.update(n=>{const i=n.indexOf(e);return i!==-1?n.splice(i,1):n.push(e),n})}clearSelection(){this.selection.set([])}}class ds{constructor(){this.listeners=[],this.listenersMap={}}registerEvent(e,n){this[e]||(this[e]={});const i=this[e];i.on||(i.on={},i.raise={});let o="on:"+e+":"+n;i.raise[n]=(...r)=>{this.listeners.forEach(l=>{l.eventId===o&&l.handler(r)})},i.on[n]=r=>{let l={handler:r,eventId:o};return this.listenersMap[o]=l,this.listeners.push(l),()=>{const a=this.listeners.indexOf(l);this.listeners.splice(a,1)}}}}class hs{constructor(){}createRow(e,n){e.classes=e.classes||"",e.contentHtml=e.contentHtml||void 0,e.enableDragging=e.enableDragging===void 0?!0:e.enableDragging;const i=e.height||this.rowHeight;return{model:e,y:n,height:i,expanded:!0}}createRows(e){const n={y:0,result:[]};return this.createChildRows(e,n),n.result}createChildRows(e,n,i=null,o=0,r=[]){const l=[],s=[];return i&&(r=[...r,i]),e.forEach(a=>{const c=this.createRow(a,n.y);if(n.result.push(c),l.push(c),s.push(c),c.childLevel=o,c.parent=i,c.allParents=r,n.y+=c.height,a.children){const d=this.createChildRows(a.children,n,c,o+1,r);c.children=d.rows,c.allChildren=d.allRows,s.push(...d.allRows)}}),{rows:l,allRows:s}}}class gs{constructor(e){this.columnService=e}create(e){e.enableResizing=e.enableResizing===void 0?!0:e.enableResizing;const n=this.columnService.getPositionByDate(e.from),i=this.columnService.getPositionByDate(e.to);return{model:e,left:n,width:i-n,resizing:!1}}}function ms(t,e){return Mo(t,e,i=>i.left)}function bs(t,e){return Mo(t,e,i=>i.from)}const vn={};function On(t,e,n){vn[t]||(vn[t]={}),vn[t][e]=n}function Fi(t,e){delete vn[t][e]}function ws(t,e){let n;for(let i in t)if(n=e.getAttribute(i))return{attr:i,data:n}}function ii(t){let{type:e,target:n}=t;const i=vn[e];if(!i)return;let o,r=n;for(;r&&r!=t.currentTarget&&!(o=ws(i,r));)r=r.parentElement;o&&i[o.attr]?i[o.attr](t,o.data,r):i.empty&&i.empty(t,null,r)}var _s=".sg-disable-transition.svelte-8uspd .sg-task,.sg-disable-transition.svelte-8uspd .sg-milestone{transition:transform 0s, background-color 0.2s, width 0s !important}.sg-view:not(:first-child){margin-left:5px}.right-scrollbar-visible.svelte-8uspd{padding-right:17px}.sg-timeline.svelte-8uspd{flex:1 1 0%;display:flex;flex-direction:column;overflow-x:auto}.sg-gantt.svelte-8uspd{display:flex;width:100%;height:100%;position:relative}.sg-foreground.svelte-8uspd{box-sizing:border-box;overflow:hidden;top:0;left:0;position:absolute;width:100%;height:100%;z-index:1;pointer-events:none}.sg-rows.svelte-8uspd{width:100%;box-sizing:border-box;overflow:hidden}.sg-timeline-body.svelte-8uspd{overflow:auto;flex:1 1 auto}.sg-header-scroller.svelte-8uspd{border-right:1px solid #efefef;overflow:hidden;position:relative}.content.svelte-8uspd{position:relative}*{box-sizing:border-box}";Ue(_s);function Ni(t,e,n){const i=t.slice();return i[131]=e[n],i}function Xi(t,e,n){const i=t.slice();return i[134]=e[n],i}function qi(t,e,n){const i=t.slice();return i[137]=e[n],i}function Gi(t,e,n){const i=t.slice();return i[140]=e[n],i}function Vi(t,e,n){const i=t.slice();return i[137]=e[n],i}function Qi(t,e,n){const i=t.slice();return i[131]=e[n],i}function Ki(t){let e,n;const i=[{rowContainerHeight:t[18]},{paddingTop:t[19]},{paddingBottom:t[20]},{tableWidth:t[1]},t[48],{visibleRows:t[21]}];var o=t[131];function r(a){let c={};for(let d=0;d<i.length;d+=1)c=Mt(c,i[d]);return{props:c}}if(o){var l=new o(r());l.$on("init",qn)}const s=new us({props:{x:t[1],container:t[11]}});return s.$on("resize",t[45]),{c(){l&&Ne(l.$$.fragment),e=ze(),Ne(s.$$.fragment)},m(a,c){l&&Be(l,a,c),B(a,e,c),Be(s,a,c),n=!0},p(a,c){const d=c[0]&3932162|c[1]&131072?rn(i,[c[0]&262144&&{rowContainerHeight:a[18]},c[0]&524288&&{paddingTop:a[19]},c[0]&1048576&&{paddingBottom:a[20]},c[0]&2&&{tableWidth:a[1]},c[1]&131072&&an(a[48]),c[0]&2097152&&{visibleRows:a[21]}]):{};if(o!==(o=a[131])){if(l){ct();const v=l;K(v.$$.fragment,1,0,()=>{Ie(v,1)}),ut()}o?(l=new o(r()),l.$on("init",qn),Ne(l.$$.fragment),X(l.$$.fragment,1),Be(l,e.parentNode,e)):l=null}else o&&l.$set(d);const h={};c[0]&2&&(h.x=a[1]),c[0]&2048&&(h.container=a[11]),s.$set(h)},i(a){n||(l&&X(l.$$.fragment,a),X(s.$$.fragment,a),n=!0)},o(a){l&&K(l.$$.fragment,a),K(s.$$.fragment,a),n=!1},d(a){l&&Ie(l,a),a&&A(e),Ie(s,a)}}}function Zi(t,e){let n,i;const o=[e[137]];let r={};for(let s=0;s<o.length;s+=1)r=Mt(r,o[s]);const l=new jl({props:r});return{key:t,first:null,c(){n=zt(),Ne(l.$$.fragment),this.first=n},m(s,a){B(s,n,a),Be(l,s,a),i=!0},p(s,a){const c=a[0]&134217728?rn(o,[an(s[137])]):{};l.$set(c)},i(s){i||(X(l.$$.fragment,s),i=!0)},o(s){K(l.$$.fragment,s),i=!1},d(s){s&&A(n),Ie(l,s)}}}function xi(t,e){let n,i;const o=new Ol({props:{row:e[140]}});return{key:t,first:null,c(){n=zt(),Ne(o.$$.fragment),this.first=n},m(r,l){B(r,n,l),Be(o,r,l),i=!0},p(r,l){const s={};l[0]&2097152&&(s.row=r[140]),o.$set(s)},i(r){i||(X(o.$$.fragment,r),i=!0)},o(r){K(o.$$.fragment,r),i=!1},d(r){r&&A(n),Ie(o,r)}}}function Ji(t,e){let n,i;const o=[e[137]];let r={};for(let s=0;s<o.length;s+=1)r=Mt(r,o[s]);const l=new Yl({props:r});return{key:t,first:null,c(){n=zt(),Ne(l.$$.fragment),this.first=n},m(s,a){B(s,n,a),Be(l,s,a),i=!0},p(s,a){const c=a[0]&134217728?rn(o,[an(s[137])]):{};l.$set(c)},i(s){i||(X(l.$$.fragment,s),i=!0)},o(s){K(l.$$.fragment,s),i=!1},d(s){s&&A(n),Ie(l,s)}}}function $i(t,e){let n,i;const o=[{model:e[134].model},{left:e[134].left},{width:e[134].width},{height:e[134].height},{top:e[134].top},e[134]];let r={};for(let s=0;s<o.length;s+=1)r=Mt(r,o[s]);const l=new Rl({props:r});return{key:t,first:null,c(){n=zt(),Ne(l.$$.fragment),this.first=n},m(s,a){B(s,n,a),Be(l,s,a),i=!0},p(s,a){const c=a[0]&4194304?rn(o,[{model:s[134].model},{left:s[134].left},{width:s[134].width},{height:s[134].height},{top:s[134].top},an(s[134])]):{};l.$set(c)},i(s){i||(X(l.$$.fragment,s),i=!0)},o(s){K(l.$$.fragment,s),i=!1},d(s){s&&A(n),Ie(l,s)}}}function eo(t){let e,n;const i=[{paddingTop:t[19]},{paddingBottom:t[20]},{visibleRows:t[21]},t[48]];var o=t[131];function r(s){let a={};for(let c=0;c<i.length;c+=1)a=Mt(a,i[c]);return{props:a}}if(o){var l=new o(r());l.$on("init",qn)}return{c(){l&&Ne(l.$$.fragment),e=zt()},m(s,a){l&&Be(l,s,a),B(s,e,a),n=!0},p(s,a){const c=a[0]&3670016|a[1]&131072?rn(i,[a[0]&524288&&{paddingTop:s[19]},a[0]&1048576&&{paddingBottom:s[20]},a[0]&2097152&&{visibleRows:s[21]},a[1]&131072&&an(s[48])]):{};if(o!==(o=s[131])){if(l){ct();const d=l;K(d.$$.fragment,1,0,()=>{Ie(d,1)}),ut()}o?(l=new o(r()),l.$on("init",qn),Ne(l.$$.fragment),X(l.$$.fragment,1),Be(l,e.parentNode,e)):l=null}else o&&l.$set(c)},i(s){n||(l&&X(l.$$.fragment,s),n=!0)},o(s){l&&K(l.$$.fragment,s),n=!1},d(s){s&&A(e),l&&Ie(l,s)}}}function ps(t){let e,n,i,o,r,l,s,a=[],c=new Map,d,h,v,p,k,f,b,g=[],_=new Map,F,Y,S=[],R=new Map,q,O=[],Z=new Map,ue,re,fe,ne,ce,He,Ce=t[7],y=[];for(let m=0;m<Ce.length;m+=1)y[m]=Ki(Qi(t,Ce,m));const oe=m=>K(y[m],1,1,()=>{y[m]=null}),ge=new ts({props:{headers:t[0],columnUnit:t[2],columnOffset:t[3]}});ge.$on("dateSelected",t[47]);let ve=t[27];const it=m=>m[137].model.id;for(let m=0;m<ve.length;m+=1){let w=Vi(t,ve,m),H=it(w);c.set(H,a[m]=Zi(H,w))}const M=new ls({props:{columns:t[15],columnStrokeColor:t[9],columnStrokeWidth:t[10],columnUnit:t[2],columnOffset:t[3],highlightWeekends:t[4],highlightColor:t[5]}});let we=t[21];const qe=m=>m[140].model.id;for(let m=0;m<we.length;m+=1){let w=Gi(t,we,m),H=qe(w);_.set(H,g[m]=xi(H,w))}let x=t[27];const Re=m=>m[137].model.id;for(let m=0;m<x.length;m+=1){let w=qi(t,x,m),H=Re(w);R.set(H,S[m]=Ji(H,w))}let Ee=t[22];const Le=m=>m[134].model.id;for(let m=0;m<Ee.length;m+=1){let w=Xi(t,Ee,m),H=Le(w);Z.set(H,O[m]=$i(H,w))}let le=t[8],$=[];for(let m=0;m<le.length;m+=1)$[m]=eo(Ni(t,le,m));const We=m=>K($[m],1,1,()=>{$[m]=null});return{c(){e=P("div");for(let m=0;m<y.length;m+=1)y[m].c();n=ze(),i=P("div"),o=P("div"),r=P("div"),l=P("div"),Ne(ge.$$.fragment),s=ze();for(let m=0;m<a.length;m+=1)a[m].c();h=ze(),v=P("div"),p=P("div"),Ne(M.$$.fragment),k=ze(),f=P("div"),b=P("div");for(let m=0;m<g.length;m+=1)g[m].c();F=ze(),Y=P("div");for(let m=0;m<S.length;m+=1)S[m].c();q=ze();for(let m=0;m<O.length;m+=1)O[m].c();ue=ze();for(let m=0;m<$.length;m+=1)$[m].c();z(l,"class","header-container svelte-8uspd"),W(l,"width",t[24]+"px"),z(r,"class","sg-header-scroller svelte-8uspd"),z(o,"class","sg-header svelte-8uspd"),kn(()=>t[126].call(o)),te(o,"right-scrollbar-visible",t[17]),W(b,"transform","translateY("+t[19]+"px)"),z(f,"class","sg-rows svelte-8uspd"),W(f,"height",t[18]+"px"),z(Y,"class","sg-foreground svelte-8uspd"),z(p,"class","content svelte-8uspd"),W(p,"width",t[24]+"px"),z(v,"class","sg-timeline-body svelte-8uspd"),kn(()=>t[129].call(v)),te(v,"zooming",t[16]),z(i,"class","sg-timeline sg-view svelte-8uspd"),z(e,"class",fe="sg-gantt "+t[6]+" svelte-8uspd"),te(e,"sg-disable-transition",!t[23])},m(m,w){B(m,e,w);for(let H=0;H<y.length;H+=1)y[H].m(e,null);N(e,n),N(e,i),N(i,o),N(o,r),N(r,l),Be(ge,l,null),N(l,s);for(let H=0;H<a.length;H+=1)a[H].m(l,null);t[125](o),d=Wi(o,t[126].bind(o)),N(i,h),N(i,v),N(v,p),Be(M,p,null),N(p,k),N(p,f),N(f,b);for(let H=0;H<g.length;H+=1)g[H].m(b,null);t[127](f),N(p,F),N(p,Y);for(let H=0;H<S.length;H+=1)S[H].m(Y,null);N(Y,q);for(let H=0;H<O.length;H+=1)O[H].m(Y,null);N(p,ue);for(let H=0;H<$.length;H+=1)$[H].m(p,null);t[128](v),re=Wi(v,t[129].bind(v)),t[130](e),ne=!0,ce||(He=[Wt(t[44].call(null,r)),Wt(t[43].call(null,v)),yt(v,"wheel",t[46]),yt(e,"click",ii),yt(e,"mouseover",ii),yt(e,"mouseleave",ii)],ce=!0)},p(m,w){if(w[0]&3934338|w[1]&147456){Ce=m[7];let L;for(L=0;L<Ce.length;L+=1){const je=Qi(m,Ce,L);y[L]?(y[L].p(je,w),X(y[L],1)):(y[L]=Ki(je),y[L].c(),X(y[L],1),y[L].m(e,n))}for(ct(),L=Ce.length;L<y.length;L+=1)oe(L);ut()}const H={};if(w[0]&1&&(H.headers=m[0]),w[0]&4&&(H.columnUnit=m[2]),w[0]&8&&(H.columnOffset=m[3]),ge.$set(H),w[0]&134217728){const L=m[27];ct(),a=wn(a,w,it,1,m,L,c,l,bn,Zi,null,Vi),ut()}(!ne||w[0]&16777216)&&W(l,"width",m[24]+"px"),w[0]&131072&&te(o,"right-scrollbar-visible",m[17]);const G={};if(w[0]&32768&&(G.columns=m[15]),w[0]&512&&(G.columnStrokeColor=m[9]),w[0]&1024&&(G.columnStrokeWidth=m[10]),w[0]&4&&(G.columnUnit=m[2]),w[0]&8&&(G.columnOffset=m[3]),w[0]&16&&(G.highlightWeekends=m[4]),w[0]&32&&(G.highlightColor=m[5]),M.$set(G),w[0]&2097152){const L=m[21];ct(),g=wn(g,w,qe,1,m,L,_,b,bn,xi,null,Gi),ut()}if((!ne||w[0]&524288)&&W(b,"transform","translateY("+m[19]+"px)"),(!ne||w[0]&262144)&&W(f,"height",m[18]+"px"),w[0]&134217728){const L=m[27];ct(),S=wn(S,w,Re,1,m,L,R,Y,bn,Ji,q,qi),ut()}if(w[0]&4194304){const L=m[22];ct(),O=wn(O,w,Le,1,m,L,Z,Y,bn,$i,null,Xi),ut()}if(w[0]&3670272|w[1]&131072){le=m[8];let L;for(L=0;L<le.length;L+=1){const je=Ni(m,le,L);$[L]?($[L].p(je,w),X($[L],1)):($[L]=eo(je),$[L].c(),X($[L],1),$[L].m(p,null))}for(ct(),L=le.length;L<$.length;L+=1)We(L);ut()}(!ne||w[0]&16777216)&&W(p,"width",m[24]+"px"),w[0]&65536&&te(v,"zooming",m[16]),(!ne||w[0]&64&&fe!==(fe="sg-gantt "+m[6]+" svelte-8uspd"))&&z(e,"class",fe),w[0]&8388672&&te(e,"sg-disable-transition",!m[23])},i(m){if(!ne){for(let w=0;w<Ce.length;w+=1)X(y[w]);X(ge.$$.fragment,m);for(let w=0;w<ve.length;w+=1)X(a[w]);X(M.$$.fragment,m);for(let w=0;w<we.length;w+=1)X(g[w]);for(let w=0;w<x.length;w+=1)X(S[w]);for(let w=0;w<Ee.length;w+=1)X(O[w]);for(let w=0;w<le.length;w+=1)X($[w]);ne=!0}},o(m){y=y.filter(Boolean);for(let w=0;w<y.length;w+=1)K(y[w]);K(ge.$$.fragment,m);for(let w=0;w<a.length;w+=1)K(a[w]);K(M.$$.fragment,m);for(let w=0;w<g.length;w+=1)K(g[w]);for(let w=0;w<S.length;w+=1)K(S[w]);for(let w=0;w<O.length;w+=1)K(O[w]);$=$.filter(Boolean);for(let w=0;w<$.length;w+=1)K($[w]);ne=!1},d(m){m&&A(e),qt(y,m),Ie(ge);for(let w=0;w<a.length;w+=1)a[w].d();t[125](null),d(),Ie(M);for(let w=0;w<g.length;w+=1)g[w].d();t[127](null);for(let w=0;w<S.length;w+=1)S[w].d();for(let w=0;w<O.length;w+=1)O[w].d();qt($,m),t[128](null),re(),t[130](null),ce=!1,St(He)}}}function to(t){for(const e in t)if(t[e]==null)throw new Error(`"${e}" is not set`)}function Hn(t){return t instanceof Date?t.valueOf():t}function qn(t){}function vs(t,e,n){const i=["highlightWeekends","highlightColor","rows","tasks","timeRanges","rowPadding","rowHeight","from","to","minWidth","fitWidth","classes","headers","zoomLevels","taskContent","tableWidth","resizeHandleWidth","onTaskButtonClick","dateAdapter","magnetUnit","magnetOffset","columnUnit","columnOffset","ganttTableModules","ganttBodyModules","reflectOnParentRows","reflectOnChildRows","columnStrokeColor","columnStrokeWidth","taskElementHook","columnService","api","taskFactory","rowFactory","dndManager","timeRangeFactory","utils","refreshTimeRanges","refreshTasks","getRowContainer","selectTask","unselectTasks","scrollToRow","scrollToTask","updateTask","updateTasks","updateRow","updateRows","getRow","getTask","getTasks"];let o=Ri(e,i),r,l,s,a,c,d,h,v,p,k,f,b,g,_,F,Y,S,R,q,O;U(t,nt,u=>n(107,k=u)),U(t,Rt,u=>n(110,g=u)),U(t,Wo,u=>n(111,_=u)),U(t,hl,u=>n(112,F=u)),U(t,ml,u=>n(113,Y=u)),U(t,gl,u=>n(27,q=u));var Z=this&&this.__awaiter||function(u,T,I,J){function ae(ie){return ie instanceof I?ie:new I(function(Oe){Oe(ie)})}return new(I||(I=Promise))(function(ie,Oe){function Fe(Qe){try{wt(J.next(Qe))}catch(gn){Oe(gn)}}function Lt(Qe){try{wt(J.throw(Qe))}catch(gn){Oe(gn)}}function wt(Qe){Qe.done?ie(Qe.value):ae(Qe.value).then(Fe,Lt)}wt((J=J.apply(u,T||[])).next())})};let ue,re,fe,ne,ce=[],He=!1,{highlightWeekends:Ce=!1}=e,{highlightColor:y="#6eb859"}=e,{rows:oe}=e,{tasks:ge=[]}=e,{timeRanges:ve=[]}=e;to({rows:oe});let{rowPadding:it=6}=e,{rowHeight:M=52}=e;const we=Ke(M);U(t,we,u=>n(99,r=u));const qe=Ke(it);U(t,qe,u=>n(100,l=u));let{from:x}=e,{to:Re}=e;to({from:x,to:Re});const Ee=Ke(Hn(x));U(t,Ee,u=>n(101,s=u));const Le=Ke(Hn(Re));U(t,Le,u=>n(102,a=u));let{minWidth:le=800}=e,{fitWidth:$=!1}=e;const We=Ke(le);U(t,We,u=>n(103,c=u));const m=Ke($);U(t,m,u=>n(104,d=u));let{classes:w=[]}=e,{headers:H=[{unit:"day",format:"MMMM Do"},{unit:"hour",format:"H:mm"}]}=e,{zoomLevels:G=[{headers:[{unit:"day",format:"DD.MM.YYYY"},{unit:"hour",format:"HH"}],minWidth:800,fitWidth:!0},{headers:[{unit:"hour",format:"ddd D/M, H A"},{unit:"minute",format:"mm",offset:15}],minWidth:5e3,fitWidth:!1}]}=e,{taskContent:L=null}=e,{tableWidth:je=100}=e,{resizeHandleWidth:Ge=10}=e,{onTaskButtonClick:me=null}=e,{dateAdapter:_t=new Nl}=e,{magnetUnit:Je="minute"}=e,{magnetOffset:Me=15}=e,ot;lt(Je,Me);function lt(u,T){u&&T&&n(90,ot=yn(u,T))}let{columnUnit:Ve="minute"}=e,{columnOffset:$e=15}=e,mt;At(Ve,$e);function At(u,T){u&&T&&n(91,mt=yn(u,T))}let{ganttTableModules:st=[]}=e,{ganttBodyModules:Vt=[]}=e,{reflectOnParentRows:rt=!0}=e,{reflectOnChildRows:ft=!1}=e,{columnStrokeColor:Qt}=e,{columnStrokeWidth:Kt}=e,{taskElementHook:et=null}=e;const dt=Ke(null);U(t,dt,u=>n(28,O=u));const Ot=Ke(null);U(t,Ot,u=>n(25,S=u));const Yt=Ke(null);U(t,Yt,u=>n(26,R=u));const pt=jn([dt,We,m],([u,T,I])=>I&&u>T?u:T);U(t,pt,u=>n(24,h=u));const be={getColumnByDate(u){const T=bs(Zt,u);return T[0]?T[0]:T[1]},getColumnByPosition(u){const T=ms(Zt,u);return T[0]?T[0]:T[1]},getPositionByDate(u){if(!u)return null;const T=this.getColumnByDate(u),J=(u-T.from)/T.duration*T.width;return T.left+J},getDateByPosition(u){const T=this.getColumnByPosition(u);u=u-T.left;let I=T.duration/T.width*u;return T.from+I},roundTo(u){return Math.round(u/ot)*ot}},bt=Ke(Xn(s+mt,s,a,h)|0);U(t,bt,u=>n(105,v=u));let _e=Math.ceil(h/v),Zt=xt(s,_e,mt,v);function xt(u,T,I,J){if(!isFinite(T))throw new Error(`column count is not a finite number [${T}]`);if(J<=0)throw new Error("column width is not a positive number");let ae=[],ie=u,Oe=0;for(let Fe=0;Fe<T;Fe++){const Lt=ie,wt=ie+I,Qe=wt-Lt;ae.push({width:J,from:Lt,left:Oe,duration:Qe}),Oe+=J,ie=wt}return ae}const cn=jn([bt,Ee,Le],()=>({}));U(t,cn,u=>n(106,p=u)),Mn("dimensions",{from:Ee,to:Le,width:pt,visibleWidth:dt,visibleHeight:Ot,headerHeight:Yt,dimensionsChanged:cn}),Mn("options",{dateAdapter:_t,taskElementHook:et,taskContent:L,rowPadding:qe,rowHeight:we,resizeHandleWidth:Ge,reflectOnParentRows:rt,reflectOnChildRows:ft,onTaskButtonClick:me});const Ht=Ke(null);U(t,Ht,u=>n(108,f=u));const E=Ke(null);U(t,E,u=>n(109,b=u));const j={scrollables:ce,hoveredRow:Ht,selectedRow:E};Mn("gantt",j),Vn(()=>{Object.assign(j,{rowContainer:ne,mainContainer:fe,mainHeaderContainer:re}),ke.registerEvent("tasks","move"),ke.registerEvent("tasks","select"),ke.registerEvent("tasks","switchRow"),ke.registerEvent("tasks","moveEnd"),ke.registerEvent("tasks","change"),ke.registerEvent("tasks","changed"),ke.registerEvent("gantt","viewChanged"),ke.registerEvent("gantt","dateSelected"),ke.registerEvent("tasks","dblclicked"),ke.registerEvent("timeranges","clicked"),ke.registerEvent("timeranges","resized"),n(89,He=!0)}),On("click","data-task-id",(u,T,I)=>{const J=+T;u.ctrlKey?Dt.toggleSelection(J):Dt.selectSingle(J),ke.tasks.raise.select(k.entities[J])}),On("mouseover","data-row-id",(u,T,I)=>{Ye(Ht,f=+T)}),On("click","data-row-id",(u,T,I)=>{if(ui(),b==+T){Ye(E,b=null);return}Ye(E,b=+T)}),On("mouseleave","empty",(u,T,I)=>{Ye(Ht,f=null)}),al(()=>{Fi("click","data-task-id"),Fi("click","data-row-id")});let Se=0,vt=0;function se(u){const T=I=>{const{scrollTop:J,scrollLeft:ae}=u;ce.forEach(ie=>{ie.orientation==="horizontal"?ie.node.scrollLeft=ae:ie.node.scrollTop=J}),n(93,Se=J),vt=ae};return u.addEventListener("scroll",T),{destroy(){u.removeEventListener("scroll",T,!1)}}}function kt(u){ce.push({node:u,orientation:"horizontal"})}function Jt(u){n(1,je=u.detail.left)}let ht=0,$t=!1;function en(u){return Z(this,void 0,void 0,function*(){if(u.ctrlKey){u.preventDefault();const T=ht;if(u.deltaY>0?ht=Math.max(ht-1,0):ht=Math.min(ht+1,G.length-1),T!=ht&&G[ht]){const I=Object.assign({columnUnit:Ve,columnOffset:$e,minWidth:c},G[ht]),J=I.minWidth/h,ae=fe,ie=sn(ae,u),Lt=(ae.scrollLeft+ie.x)*J-ie.x+ae.clientWidth/2;console.log("scrollLeft",Lt),n(2,Ve=I.columnUnit),n(3,$e=I.columnOffset),Ye(We,c=I.minWidth),I.headers&&n(0,H=I.headers),I.fitWidth&&Ye(m,d=I.fitWidth),ke.gantt.raise.viewChanged(),n(16,$t=!0),yield $n(),ae.scrollLeft=Lt,n(16,$t=!1)}}})}function tn(u){Ye(Ee,s=u.detail.from),Ye(Le,a=u.detail.to),ke.gantt.raise.dateSelected({from:s,to:a})}function Bt(u){const T=Ct.createRows(u);Rt.addAll(T)}function It(u){return Z(this,void 0,void 0,function*(){yield $n();const T=[],I={rowPadding:l};u.forEach(J=>{const ae=at.createTask(J),ie=g.entities[ae.model.resourceId];ae.reflections=[],ft&&ie.allChildren&&ie.allChildren.forEach(Oe=>{const Fe=Nn(ae,Oe,I);ae.reflections.push(Fe.model.id),T.push(Fe)}),rt&&ie.allParents.length>0&&ie.allParents.forEach(Oe=>{const Fe=Nn(ae,Oe,I);ae.reflections.push(Fe.model.id),T.push(Fe)}),T.push(ae)}),nt.addAll(T)})}function Ut(u){const T=u.map(I=>fn.create(I));Fn.addAll(T)}function un(){return Z(this,void 0,void 0,function*(){n(23,xn=!1),yield $n(),ue.offsetHeight,n(23,xn=!0)})}const ke=new ds,Dt=new fs,at=new kl(be),Ct=new hs,jt=new vl(Rt),fn=new gs(be),pe=new Zl;Mn("services",{utils:pe,api:ke,dndManager:jt,selectionManager:Dt,columnService:be});function dn(){Fn._update(({ids:u,entities:T})=>(u.forEach(I=>{const J=T[I],ae=be.getPositionByDate(J.model.from)|0,ie=be.getPositionByDate(J.model.to)|0;J.left=ae,J.width=ie-ae}),{ids:u,entities:T}))}function Ft(){_.forEach(u=>{const T=be.getPositionByDate(u.model.from)|0,I=be.getPositionByDate(u.model.to)|0;u.left=T,u.width=I-T}),nt.refresh()}function Cn(){return ne}function Et(u){const T=k.entities[u];T&&Dt.selectSingle(T)}function ui(){Dt.clearSelection()}function Ho(u,T="auto"){const{scrollTop:I,clientHeight:J}=fe,ae=F.findIndex(Oe=>Oe.model.id==u);if(ae===-1)return;const ie=ae*M;ie<I&&fe.scrollTo({top:ie,behavior:T}),ie>I+J&&fe.scrollTo({top:ie+M-J,behavior:T})}function Lo(u,T="auto"){const{scrollLeft:I,scrollTop:J,clientWidth:ae,clientHeight:ie}=fe,Oe=k.entities[u];if(!Oe)return;const Fe=Oe.left,wt=F.findIndex(gn=>gn.model.id==Oe.model.resourceId)*M,Qe={top:void 0,left:void 0,behavior:T};Fe<I&&(Qe.left=Fe),Fe>I+ae&&(Qe.left=Fe+Oe.width-ae),wt<J&&(Qe.top=wt),wt>J+ie&&(Qe.top=wt+M-ie),fe.scrollTo(Qe)}function Po(u){const T=at.createTask(u);nt.upsert(T)}function Ao(u){const T=u.map(I=>at.createTask(I));nt.upsertAll(T)}function Yo(u){const T=Ct.createRow(u,null);Rt.upsert(T)}function Bo(u){const T=u.map(I=>Ct.createRow(I,null));Rt.upsertAll(T)}function Io(u){return g.entities[u]}function Uo(u){return k.entities[u]}function jo(u){return Y[u]?Y[u].map(T=>k.entities[T]):null}let nn=[],fi,Kn,hn,En,di=0,hi=0,Zn=[],gi,xn=!0;function Fo(u){Nt[u?"unshift":"push"](()=>{n(12,re=u)})}function No(){R=this.clientHeight,Yt.set(R)}function Xo(u){Nt[u?"unshift":"push"](()=>{n(14,ne=u)})}function qo(u){Nt[u?"unshift":"push"](()=>{n(13,fe=u)})}function Go(){S=this.clientHeight,Ot.set(S),O=this.clientWidth,dt.set(O)}function Vo(u){Nt[u?"unshift":"push"](()=>{n(11,ue=u)})}return t.$set=u=>{e=Mt(Mt({},e),ol(u)),n(48,o=Ri(e,i)),"highlightWeekends"in u&&n(4,Ce=u.highlightWeekends),"highlightColor"in u&&n(5,y=u.highlightColor),"rows"in u&&n(52,oe=u.rows),"tasks"in u&&n(53,ge=u.tasks),"timeRanges"in u&&n(54,ve=u.timeRanges),"rowPadding"in u&&n(55,it=u.rowPadding),"rowHeight"in u&&n(56,M=u.rowHeight),"from"in u&&n(57,x=u.from),"to"in u&&n(58,Re=u.to),"minWidth"in u&&n(59,le=u.minWidth),"fitWidth"in u&&n(60,$=u.fitWidth),"classes"in u&&n(6,w=u.classes),"headers"in u&&n(0,H=u.headers),"zoomLevels"in u&&n(61,G=u.zoomLevels),"taskContent"in u&&n(62,L=u.taskContent),"tableWidth"in u&&n(1,je=u.tableWidth),"resizeHandleWidth"in u&&n(63,Ge=u.resizeHandleWidth),"onTaskButtonClick"in u&&n(64,me=u.onTaskButtonClick),"dateAdapter"in u&&n(65,_t=u.dateAdapter),"magnetUnit"in u&&n(66,Je=u.magnetUnit),"magnetOffset"in u&&n(67,Me=u.magnetOffset),"columnUnit"in u&&n(2,Ve=u.columnUnit),"columnOffset"in u&&n(3,$e=u.columnOffset),"ganttTableModules"in u&&n(7,st=u.ganttTableModules),"ganttBodyModules"in u&&n(8,Vt=u.ganttBodyModules),"reflectOnParentRows"in u&&n(68,rt=u.reflectOnParentRows),"reflectOnChildRows"in u&&n(69,ft=u.reflectOnChildRows),"columnStrokeColor"in u&&n(9,Qt=u.columnStrokeColor),"columnStrokeWidth"in u&&n(10,Kt=u.columnStrokeWidth),"taskElementHook"in u&&n(70,et=u.taskElementHook)},t.$$.update=()=>{if(t.$$.dirty[1]&2097152|t.$$.dirty[2]&134217728&&He&&Bt(oe),t.$$.dirty[1]&4194304|t.$$.dirty[2]&134217728&&He&&It(ge),t.$$.dirty[1]&8388608|t.$$.dirty[2]&134217728&&He&&Ut(ve),t.$$.dirty[1]&33554432&&Ye(we,r=M),t.$$.dirty[1]&16777216&&Ye(qe,l=it),t.$$.dirty[1]&67108864&&Ye(Ee,s=Hn(x)),t.$$.dirty[1]&134217728&&Ye(Le,a=Hn(Re)),t.$$.dirty[1]&805306368&&(Ye(We,c=le),Ye(m,d=$)),t.$$.dirty[2]&48&&lt(Je,Me),t.$$.dirty[0]&12&&At(Ve,$e),t.$$.dirty[0]&16777216|t.$$.dirty[2]&536870912|t.$$.dirty[3]&768&&Ye(bt,v=Xn(s+mt,s,a,h)|0),t.$$.dirty[0]&16777216|t.$$.dirty[3]&4096&&n(92,_e=Math.ceil(h/v)),t.$$.dirty[2]&1610612736|t.$$.dirty[3]&4352&&n(15,Zt=xt(s,_e,mt,v)),t.$$.dirty[3]&8192&&p&&(Ft(),dn()),t.$$.dirty[3]&131200&&(n(49,at.rowPadding=l,at),n(49,at.rowEntities=g.entities,at)),t.$$.dirty[1]&33554432&&n(50,Ct.rowHeight=M,Ct),t.$$.dirty[0]&16777216|t.$$.dirty[2]&1879048240|t.$$.dirty[3]&4864&&(n(51,pe.from=s,pe),n(51,pe.to=a,pe),n(51,pe.width=h,pe),n(51,pe.magnetOffset=Me,pe),n(51,pe.magnetUnit=Je,pe),n(51,pe.magnetDuration=ot,pe),n(51,pe.totalColumnDuration=_e*mt,pe),n(51,pe.totalColumnWidth=_e*v,pe)),t.$$.dirty[3]&524288&&n(96,nn=F.filter(u=>!u.hidden)),t.$$.dirty[1]&33554432|t.$$.dirty[3]&8&&n(18,Kn=nn.length*M),t.$$.dirty[0]&33816576&&n(17,fi=Kn>S),t.$$.dirty[1]&33554432|t.$$.dirty[3]&1&&n(97,hn=Math.floor(Se/M)),t.$$.dirty[0]&33554432|t.$$.dirty[1]&33554432|t.$$.dirty[3]&24&&n(98,En=Math.min(hn+Math.ceil(S/M),nn.length-1)),t.$$.dirty[1]&33554432|t.$$.dirty[3]&16&&n(19,di=hn*M),t.$$.dirty[1]&33554432|t.$$.dirty[3]&40&&n(20,hi=(nn.length-En-1)*M),t.$$.dirty[3]&56&&n(21,Zn=nn.slice(hn,En+1)),t.$$.dirty[0]&2097152|t.$$.dirty[3]&1064960){const u=[];Zn.forEach(T=>{Y[T.model.id]&&Y[T.model.id].forEach(I=>{u.push(k.entities[I])})}),n(22,gi=u)}t.$$.dirty[3]&8192&&p&&un()},[H,je,Ve,$e,Ce,y,w,st,Vt,Qt,Kt,ue,re,fe,ne,Zt,$t,fi,Kn,di,hi,Zn,gi,xn,h,S,R,q,O,we,qe,Ee,Le,We,m,dt,Ot,Yt,pt,bt,cn,Ht,E,se,kt,Jt,en,tn,o,at,Ct,pe,oe,ge,ve,it,M,x,Re,le,$,G,L,Ge,me,_t,Je,Me,rt,ft,et,be,ke,jt,fn,dn,Ft,Cn,Et,ui,Ho,Lo,Po,Ao,Yo,Bo,Io,Uo,jo,He,ot,mt,_e,Se,vt,ht,nn,hn,En,r,l,s,a,c,d,v,p,k,f,b,g,_,F,Y,Z,ce,lt,At,xt,j,Bt,It,Ut,un,Dt,Fo,No,Xo,qo,Go,Vo]}class ks extends xe{constructor(e){super(),Ze(this,e,vs,ps,Xe,{highlightWeekends:4,highlightColor:5,rows:52,tasks:53,timeRanges:54,rowPadding:55,rowHeight:56,from:57,to:58,minWidth:59,fitWidth:60,classes:6,headers:0,zoomLevels:61,taskContent:62,tableWidth:1,resizeHandleWidth:63,onTaskButtonClick:64,dateAdapter:65,magnetUnit:66,magnetOffset:67,columnUnit:2,columnOffset:3,ganttTableModules:7,ganttBodyModules:8,reflectOnParentRows:68,reflectOnChildRows:69,columnStrokeColor:9,columnStrokeWidth:10,taskElementHook:70,columnService:71,api:72,taskFactory:49,rowFactory:50,dndManager:73,timeRangeFactory:74,utils:51,refreshTimeRanges:75,refreshTasks:76,getRowContainer:77,selectTask:78,unselectTasks:79,scrollToRow:80,scrollToTask:81,updateTask:82,updateTasks:83,updateRow:84,updateRows:85,getRow:86,getTask:87,getTasks:88},[-1,-1,-1,-1,-1])}get columnService(){return this.$$.ctx[71]}get api(){return this.$$.ctx[72]}get taskFactory(){return this.$$.ctx[49]}get rowFactory(){return this.$$.ctx[50]}get dndManager(){return this.$$.ctx[73]}get timeRangeFactory(){return this.$$.ctx[74]}get utils(){return this.$$.ctx[51]}get refreshTimeRanges(){return this.$$.ctx[75]}get refreshTasks(){return this.$$.ctx[76]}get getRowContainer(){return this.$$.ctx[77]}get selectTask(){return this.$$.ctx[78]}get unselectTasks(){return this.$$.ctx[79]}get scrollToRow(){return this.$$.ctx[80]}get scrollToTask(){return this.$$.ctx[81]}get updateTask(){return this.$$.ctx[82]}get updateTasks(){return this.$$.ctx[83]}get updateRow(){return this.$$.ctx[84]}get updateRows(){return this.$$.ctx[85]}get getRow(){return this.$$.ctx[86]}get getTask(){return this.$$.ctx[87]}get getTasks(){return this.$$.ctx[88]}}var ys=".sg-tree-expander.svelte-1tk4vqn{cursor:pointer;min-width:1.4em;display:flex;justify-content:center;align-items:center}.sg-cell-inner.svelte-1tk4vqn{display:flex}";Ue(ys);function no(t){let e,n,i;function o(s,a){return s[0].expanded?zs:Ts}let r=o(t),l=r(t);return{c(){e=P("div"),l.c(),z(e,"class","sg-tree-expander svelte-1tk4vqn")},m(s,a){B(s,e,a),l.m(e,null),n||(i=yt(e,"click",t[1]),n=!0)},p(s,a){r!==(r=o(s))&&(l.d(1),l=r(s),l&&(l.c(),l.m(e,null)))},d(s){s&&A(e),l.d(),n=!1,i()}}}function Ts(t){let e;return{c(){e=P("i"),z(e,"class","fas fa-angle-right")},m(n,i){B(n,e,i)},d(n){n&&A(e)}}}function zs(t){let e;return{c(){e=P("i"),z(e,"class","fas fa-angle-down")},m(n,i){B(n,e,i)},d(n){n&&A(e)}}}function Ds(t){let e,n,i,o=t[0].children&&no(t);const r=t[4].default,l=tl(r,t,t[3],null);return{c(){e=P("div"),o&&o.c(),n=ze(),l&&l.c(),z(e,"class","sg-cell-inner svelte-1tk4vqn"),W(e,"padding-left",t[0].childLevel*3+"em")},m(s,a){B(s,e,a),o&&o.m(e,null),N(e,n),l&&l.m(e,null),i=!0},p(s,[a]){s[0].children?o?o.p(s,a):(o=no(s),o.c(),o.m(e,n)):o&&(o.d(1),o=null),l&&l.p&&a&8&&il(l,r,s,s[3],a,null,null),(!i||a&1)&&W(e,"padding-left",s[0].childLevel*3+"em")},i(s){i||(X(l,s),i=!0)},o(s){K(l,s),i=!1},d(s){s&&A(e),o&&o.d(),l&&l.d(s)}}}function Cs(t,e,n){let{row:i}=e;const o=Dn();function r(){i.expanded?o("rowCollapsed",{row:i}):o("rowExpanded",{row:i})}let{$$slots:l={},$$scope:s}=e;return t.$set=a=>{"row"in a&&n(0,i=a.row),"$$scope"in a&&n(3,s=a.$$scope)},[i,r,o,s,l]}class Es extends xe{constructor(e){super(),Ze(this,e,Cs,Ds,Xe,{row:0})}}var Rs=".sg-table-row.svelte-ffcwbe{display:inline-flex;min-width:100%;align-items:stretch;position:relative;font-weight:400;font-size:14px}.sg-table-cell.svelte-ffcwbe{border-left:1px solid #eee}.sg-table-body-cell.svelte-ffcwbe{border-bottom:#efefef 1px solid;background-color:#fff;font-weight:bold}.sg-resource-image.svelte-ffcwbe{width:2.4em;height:2.4em;border-radius:50%;margin-right:.6em;background:#047c69}.sg-resource-info.svelte-ffcwbe{flex:1;height:100%;display:flex;flex-direction:row;align-items:center}.sg-table-icon.svelte-ffcwbe{margin-right:0.5em}";Ue(Rs);function io(t,e,n){const i=t.slice();return i[12]=e[n],i}function Ws(t){let e,n,i=t[1].model.iconClass&&oo(t);function o(s,a){return s[1].model.headerHtml?Ls:s[12].renderer?Hs:s[12].type==="resourceInfo"?Os:Ss}let r=o(t),l=r(t);return{c(){i&&i.c(),e=ze(),l.c(),n=zt()},m(s,a){i&&i.m(s,a),B(s,e,a),l.m(s,a),B(s,n,a)},p(s,a){s[1].model.iconClass?i?i.p(s,a):(i=oo(s),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),r===(r=o(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(n.parentNode,n)))},i:he,o:he,d(s){i&&i.d(s),s&&A(e),l.d(s),s&&A(n)}}}function Ms(t){let e;const n=new Es({props:{row:t[1],$$slots:{default:[Bs]},$$scope:{ctx:t}}});return n.$on("rowCollapsed",t[10]),n.$on("rowExpanded",t[11]),{c(){Ne(n.$$.fragment)},m(i,o){Be(n,i,o),e=!0},p(i,o){const r={};o&2&&(r.row=i[1]),o&32771&&(r.$$scope={dirty:o,ctx:i}),n.$set(r)},i(i){e||(X(n.$$.fragment,i),e=!0)},o(i){K(n.$$.fragment,i),e=!1},d(i){Ie(n,i)}}}function oo(t){let e,n,i;return{c(){e=P("div"),n=P("i"),z(n,"class",i=In(t[1].model.iconClass)+" svelte-ffcwbe"),z(e,"class","sg-table-icon svelte-ffcwbe")},m(o,r){B(o,e,r),N(e,n)},p(o,r){r&2&&i!==(i=In(o[1].model.iconClass)+" svelte-ffcwbe")&&z(n,"class",i)},d(o){o&&A(e)}}}function Ss(t){let e=t[1].model[t[12].property]+"",n;return{c(){n=Tt(e)},m(i,o){B(i,n,o)},p(i,o){o&3&&e!==(e=i[1].model[i[12].property]+"")&&Pt(n,e)},d(i){i&&A(n)}}}function Os(t){let e,n,i,o,r=t[1].model[t[12].property]+"",l;return{c(){e=P("img"),i=ze(),o=P("div"),l=Tt(r),z(e,"class","sg-resource-image svelte-ffcwbe"),e.src!==(n=t[1].model.imageSrc)&&z(e,"src",n),z(e,"alt",""),z(o,"class","sg-resource-title")},m(s,a){B(s,e,a),B(s,i,a),B(s,o,a),N(o,l)},p(s,a){a&2&&e.src!==(n=s[1].model.imageSrc)&&z(e,"src",n),a&3&&r!==(r=s[1].model[s[12].property]+"")&&Pt(l,r)},d(s){s&&A(e),s&&A(i),s&&A(o)}}}function Hs(t){let e,n=t[12].renderer(t[1])+"";return{c(){e=new Gt(null)},m(i,o){e.m(n,i,o)},p(i,o){o&3&&n!==(n=i[12].renderer(i[1])+"")&&e.p(n)},d(i){i&&e.d()}}}function Ls(t){let e,n=t[1].model.headerHtml+"";return{c(){e=new Gt(null)},m(i,o){e.m(n,i,o)},p(i,o){o&2&&n!==(n=i[1].model.headerHtml+"")&&e.p(n)},d(i){i&&e.d()}}}function lo(t){let e,n,i;return{c(){e=P("div"),n=P("i"),z(n,"class",i=In(t[1].model.iconClass)+" svelte-ffcwbe"),z(e,"class","sg-table-icon svelte-ffcwbe")},m(o,r){B(o,e,r),N(e,n)},p(o,r){r&2&&i!==(i=In(o[1].model.iconClass)+" svelte-ffcwbe")&&z(n,"class",i)},d(o){o&&A(e)}}}function Ps(t){let e=t[1].model[t[12].property]+"",n;return{c(){n=Tt(e)},m(i,o){B(i,n,o)},p(i,o){o&3&&e!==(e=i[1].model[i[12].property]+"")&&Pt(n,e)},d(i){i&&A(n)}}}function As(t){let e,n=t[12].renderer(t[1])+"";return{c(){e=new Gt(null)},m(i,o){e.m(n,i,o)},p(i,o){o&3&&n!==(n=i[12].renderer(i[1])+"")&&e.p(n)},d(i){i&&e.d()}}}function Ys(t){let e,n=t[1].model.headerHtml+"";return{c(){e=new Gt(null)},m(i,o){e.m(n,i,o)},p(i,o){o&2&&n!==(n=i[1].model.headerHtml+"")&&e.p(n)},d(i){i&&e.d()}}}function Bs(t){let e,n,i=t[1].model.iconClass&&lo(t);function o(s,a){return s[1].model.headerHtml?Ys:s[12].renderer?As:Ps}let r=o(t),l=r(t);return{c(){i&&i.c(),e=ze(),l.c(),n=zt()},m(s,a){i&&i.m(s,a),B(s,e,a),l.m(s,a),B(s,n,a)},p(s,a){s[1].model.iconClass?i?i.p(s,a):(i=lo(s),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),r===(r=o(s))&&l?l.p(s,a):(l.d(1),l=r(s),l&&(l.c(),l.m(n.parentNode,n)))},d(s){i&&i.d(s),s&&A(e),l.d(s),s&&A(n)}}}function so(t){let e,n,i,o,r;const l=[Ms,Ws],s=[];function a(c,d){return c[12].type=="tree"?0:1}return n=a(t),i=s[n]=l[n](t),{c(){e=P("div"),i.c(),o=ze(),z(e,"class","sg-table-body-cell sg-table-cell svelte-ffcwbe"),W(e,"width",t[12].width+"px")},m(c,d){B(c,e,d),s[n].m(e,null),N(e,o),r=!0},p(c,d){let h=n;n=a(c),n===h?s[n].p(c,d):(ct(),K(s[h],1,1,()=>{s[h]=null}),ut(),i=s[n],i||(i=s[n]=l[n](c),i.c()),X(i,1),i.m(e,o)),(!r||d&1)&&W(e,"width",c[12].width+"px")},i(c){r||(X(i),r=!0)},o(c){K(i),r=!1},d(c){c&&A(e),s[n].d()}}}function Is(t){let e,n,i,o,r=t[0],l=[];for(let a=0;a<r.length;a+=1)l[a]=so(io(t,r,a));const s=a=>K(l[a],1,1,()=>{l[a]=null});return{c(){e=P("div");for(let a=0;a<l.length;a+=1)l[a].c();z(e,"data-row-id",n=t[1].model.id),W(e,"height",t[2]+"px"),z(e,"class",i="sg-table-row "+(t[1].model.classes||"")+" svelte-ffcwbe"),te(e,"sg-row-expanded",t[1].expanded),te(e,"sg-hover",t[3]==t[1].model.id),te(e,"sg-selected",t[4]==t[1].model.id)},m(a,c){B(a,e,c);for(let d=0;d<l.length;d+=1)l[d].m(e,null);o=!0},p(a,[c]){if(c&3){r=a[0];let d;for(d=0;d<r.length;d+=1){const h=io(a,r,d);l[d]?(l[d].p(h,c),X(l[d],1)):(l[d]=so(h),l[d].c(),X(l[d],1),l[d].m(e,null))}for(ct(),d=r.length;d<l.length;d+=1)s(d);ut()}(!o||c&2&&n!==(n=a[1].model.id))&&z(e,"data-row-id",n),(!o||c&4)&&W(e,"height",a[2]+"px"),(!o||c&2&&i!==(i="sg-table-row "+(a[1].model.classes||"")+" svelte-ffcwbe"))&&z(e,"class",i),c&2&&te(e,"sg-row-expanded",a[1].expanded),c&10&&te(e,"sg-hover",a[3]==a[1].model.id),c&18&&te(e,"sg-selected",a[4]==a[1].model.id)},i(a){if(!o){for(let c=0;c<r.length;c+=1)X(l[c]);o=!0}},o(a){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)K(l[c]);o=!1},d(a){a&&A(e),qt(l,a)}}}function Us(t,e,n){let i,o,r,{headers:l=null}=e,{row:s=null}=e;const{rowHeight:a}=De("options");U(t,a,f=>n(2,i=f));const{hoveredRow:c,selectedRow:d}=De("gantt");U(t,c,f=>n(3,o=f)),U(t,d,f=>n(4,r=f));const h=Dn();let v="";Vn(()=>{s.model.expanded==!1&&h("rowCollapsed",{row:s})});function p(f){li(t,f)}function k(f){li(t,f)}return t.$set=f=>{"headers"in f&&n(0,l=f.headers),"row"in f&&n(1,s=f.row)},t.$$.update=()=>{t.$$.dirty&2&&(v=s.parent?`padding-left: ${s.childLevel*3}em;`:"")},[l,s,i,o,r,a,c,d,v,h,p,k]}class js extends xe{constructor(e){super(),Ze(this,e,Us,Is,Xe,{headers:0,row:1})}}var Fs=".bottom-scrollbar-visible.svelte-87uanl{padding-bottom:17px}.sg-table.svelte-87uanl{overflow-x:auto;display:flex;flex-direction:column}.sg-table-scroller.svelte-87uanl{width:100%;border-bottom:1px solid #efefef;overflow-y:hidden}.sg-table-header.svelte-87uanl{display:flex;align-items:stretch;overflow:hidden;border-bottom:#efefef 1px solid;background-color:#fbfbfb}.sg-table-body.svelte-87uanl{display:flex;flex:1 1 0;width:100%;overflow-y:hidden}.sg-table-header-cell.svelte-87uanl{font-size:14px;font-weight:400}.sg-table-cell{white-space:nowrap;overflow:hidden;display:flex;align-items:center;flex-shrink:0;padding:0 .5em;height:100%}.sg-table-cell:last-child{flex-grow:1}";Ue(Fs);function ro(t,e,n){const i=t.slice();return i[30]=e[n],i}function ao(t,e,n){const i=t.slice();return i[33]=e[n],i}function co(t){let e,n=t[33].title+"",i,o;return{c(){e=P("div"),i=Tt(n),o=ze(),z(e,"class","sg-table-header-cell sg-table-cell svelte-87uanl"),W(e,"width",t[33].width+"px")},m(r,l){B(r,e,l),N(e,i),N(e,o)},p(r,l){l[0]&32&&n!==(n=r[33].title+"")&&Pt(i,n),l[0]&32&&W(e,"width",r[33].width+"px")},d(r){r&&A(e)}}}function uo(t){let e;const n=new js({props:{row:t[30],headers:t[5]}});return n.$on("rowExpanded",t[15]),n.$on("rowCollapsed",t[16]),{c(){Ne(n.$$.fragment)},m(i,o){Be(n,i,o),e=!0},p(i,o){const r={};o[0]&16&&(r.row=i[30]),o[0]&32&&(r.headers=i[5]),n.$set(r)},i(i){e||(X(n.$$.fragment,i),e=!0)},o(i){K(n.$$.fragment,i),e=!1},d(i){Ie(n,i)}}}function Ns(t){let e,n,i,o,r,l,s,a,c,d=t[5],h=[];for(let f=0;f<d.length;f+=1)h[f]=co(ao(t,d,f));let v=t[4],p=[];for(let f=0;f<v.length;f+=1)p[f]=uo(ro(t,v,f));const k=f=>K(p[f],1,1,()=>{p[f]=null});return{c(){e=P("div"),n=P("div");for(let f=0;f<h.length;f+=1)h[f].c();i=ze(),o=P("div"),r=P("div"),l=P("div");for(let f=0;f<p.length;f+=1)p[f].c();z(n,"class","sg-table-header svelte-87uanl"),W(n,"height",t[8]+"px"),z(l,"class","sg-table-rows svelte-87uanl"),W(l,"padding-top",t[1]+"px"),W(l,"padding-bottom",t[2]+"px"),W(l,"height",t[3]+"px"),z(r,"class","sg-table-scroller svelte-87uanl"),z(o,"class","sg-table-body svelte-87uanl"),te(o,"bottom-scrollbar-visible",t[7]),z(e,"class","sg-table sg-view svelte-87uanl"),W(e,"width",t[0]+"px")},m(f,b){B(f,e,b),N(e,n);for(let g=0;g<h.length;g+=1)h[g].m(n,null);t[29](n),N(e,i),N(e,o),N(o,r),N(r,l);for(let g=0;g<p.length;g+=1)p[g].m(l,null);s=!0,a||(c=Wt(t[14].call(null,r)),a=!0)},p(f,b){if(b[0]&32){d=f[5];let g;for(g=0;g<d.length;g+=1){const _=ao(f,d,g);h[g]?h[g].p(_,b):(h[g]=co(_),h[g].c(),h[g].m(n,null))}for(;g<h.length;g+=1)h[g].d(1);h.length=d.length}if((!s||b[0]&256)&&W(n,"height",f[8]+"px"),b[0]&98352){v=f[4];let g;for(g=0;g<v.length;g+=1){const _=ro(f,v,g);p[g]?(p[g].p(_,b),X(p[g],1)):(p[g]=uo(_),p[g].c(),X(p[g],1),p[g].m(l,null))}for(ct(),g=v.length;g<p.length;g+=1)k(g);ut()}(!s||b[0]&2)&&W(l,"padding-top",f[1]+"px"),(!s||b[0]&4)&&W(l,"padding-bottom",f[2]+"px"),(!s||b[0]&8)&&W(l,"height",f[3]+"px"),b[0]&128&&te(o,"bottom-scrollbar-visible",f[7]),(!s||b[0]&1)&&W(e,"width",f[0]+"px")},i(f){if(!s){for(let b=0;b<v.length;b+=1)X(p[b]);s=!0}},o(f){p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)K(p[b]);s=!1},d(f){f&&A(e),qt(h,f),t[29](null),qt(p,f),a=!1,c()}}}function So(t){t.forEach(e=>{e.children&&So(e.children),e.hidden=!0})}function Oo(t,e=!1){t.forEach(n=>{n.children&&Oo(n.children,!n.expanded),n.hidden=e})}function Xs(t,e,n){let i,o,r,l,s,a,c;U(t,Rt,y=>n(18,i=y)),U(t,nt,y=>n(20,r=y));const d=Dn();let{tableWidth:h}=e,{paddingTop:v}=e,{paddingBottom:p}=e,{rowContainerHeight:k}=e,{visibleRows:f}=e,{tableHeaders:b=[{title:"Name",property:"label",width:100}]}=e;const{from:g,to:_,width:F,visibleWidth:Y,headerHeight:S}=De("dimensions");U(t,F,y=>n(22,s=y)),U(t,Y,y=>n(23,a=y)),U(t,S,y=>n(8,c=y));const{rowPadding:R,rowHeight:q}=De("options");U(t,R,y=>n(21,l=y)),U(t,q,y=>n(19,o=y)),Vn(()=>{d("init",{module:this})});const{scrollables:O}=De("gantt");let Z;function ue(y){return O.push({node:y,orientation:"vertical"}),y.addEventListener("scroll",oe=>{n(6,Z.scrollLeft=y.scrollLeft,Z)}),{destroy(){y.removeEventListener("scroll")}}}let re;function fe(y){const oe=y.detail.row;oe.expanded=!0,oe.children&&Oo(oe.children),ce()}function ne(y){const oe=y.detail.row;oe.expanded=!1,oe.children&&So(oe.children),ce()}function ce(){let y=0;i.ids.forEach(oe=>{i.entities[oe].hidden||(Ye(Rt,i.entities[oe].y=y,i),y+=o)}),r.ids.forEach(oe=>{const ge=r.entities[oe],ve=i.entities[ge.model.resourceId];Ye(nt,r.entities[oe].top=ve.y+l,r)})}let He;function Ce(y){Nt[y?"unshift":"push"](()=>{n(6,Z=y)})}return t.$set=y=>{"tableWidth"in y&&n(0,h=y.tableWidth),"paddingTop"in y&&n(1,v=y.paddingTop),"paddingBottom"in y&&n(2,p=y.paddingBottom),"rowContainerHeight"in y&&n(3,k=y.rowContainerHeight),"visibleRows"in y&&n(4,f=y.visibleRows),"tableHeaders"in y&&n(5,b=y.tableHeaders)},t.$$.update=()=>{if(t.$$.dirty[0]&32){let y=0;b.forEach(oe=>{y+=oe.width}),n(17,re=y)}t.$$.dirty[0]&12713985&&n(7,He=s>a&&re<=h)},[h,v,p,k,f,b,Z,He,c,F,Y,S,R,q,ue,fe,ne,re,i,o,r,l,s,a,d,g,_,O,ce,Ce]}class qs extends xe{constructor(e){super(),Ze(this,e,Xs,Ns,Xe,{tableWidth:0,paddingTop:1,paddingBottom:2,rowContainerHeight:3,visibleRows:4,tableHeaders:5},[-1,-1])}}var hr=qs,Gs=".arrow.svelte-1uk268y{position:absolute;left:0px;pointer-events:none}.select-area.svelte-1uk268y{pointer-events:visible;position:absolute}";Ue(Gs);function Vs(t){let e,n,i;return{c(){e=Jn("svg"),n=Jn("path"),i=Jn("path"),z(n,"d",t[2]),z(n,"stroke",t[0]),z(n,"stroke-width",t[1]),z(n,"fill","transparent"),z(n,"class","select-area svelte-1uk268y"),z(i,"d",t[3]),z(i,"fill",t[0]),z(e,"xmlns","http://www.w3.org/2000/svg"),z(e,"shape-rendering","crispEdges"),z(e,"class","arrow svelte-1uk268y"),z(e,"height","100%"),z(e,"width","100%")},m(o,r){B(o,e,r),N(e,n),N(e,i)},p(o,[r]){r&4&&z(n,"d",o[2]),r&1&&z(n,"stroke",o[0]),r&2&&z(n,"stroke-width",o[1]),r&8&&z(i,"d",o[3]),r&1&&z(i,"fill",o[0])},i:he,o:he,d(o){o&&A(e)}}}function Qs(t,e,n){let{startY:i}=e,{endY:o}=e,{endX:r}=e,{startX:l}=e,{minLen:s=12}=e,{arrowSize:a=5}=e,{stroke:c="red"}=e,{strokeWidth:d=2}=e;Vn(()=>{});let h,v,p,k;return t.$set=f=>{"startY"in f&&n(4,i=f.startY),"endY"in f&&n(5,o=f.endY),"endX"in f&&n(6,r=f.endX),"startX"in f&&n(7,l=f.startX),"minLen"in f&&n(8,s=f.minLen),"arrowSize"in f&&n(9,a=f.arrowSize),"stroke"in f&&n(0,c=f.stroke),"strokeWidth"in f&&n(1,d=f.strokeWidth)},t.$$.update=()=>{if(t.$$.dirty&48&&n(10,h=o-i),t.$$.dirty&192&&n(11,v=r-l),t.$$.dirty&3568){(l==NaN||l==null)&&n(2,p="M0 0");let f;l+s>=r&&i!=o?f=`L ${l+s} ${i} 
                        L ${l+s} ${i+h/2}
                        L ${r-s} ${i+h/2}
                        L ${r-s} ${o} `:f=`L ${l+v/2} ${i} 
                        L ${l+v/2} ${o}`,n(2,p=`M${l} ${i}`+f+`L ${r-2} ${o}`)}t.$$.dirty&608&&((r==NaN||r==null)&&n(3,k="M0 0"),n(3,k=`M${r-a} ${o-a} L${r} ${o} L${r-a} ${o+a} Z`))},[c,d,p,k,i,o,r,l,s,a]}class Ks extends xe{constructor(e){super(),Ze(this,e,Qs,Vs,Xe,{startY:4,endY:5,endX:6,startX:7,minLen:8,arrowSize:9,stroke:0,strokeWidth:1})}}var Zs=".sg-dependency.svelte-741ycn{position:absolute;width:100%;height:100%}";Ue(Zs);function xs(t){let e,n;const i=new Ks({props:{startX:t[3].left+t[3].width,startY:t[3].top+t[3].height/2,endX:t[4].left,endY:t[4].top+t[4].height/2,stroke:t[1],strokeWidth:t[2]}});return{c(){e=P("div"),Ne(i.$$.fragment),z(e,"class","sg-dependency svelte-741ycn"),W(e,"left","0"),W(e,"top","0"),z(e,"data-dependency-id",t[0])},m(o,r){B(o,e,r),Be(i,e,null),n=!0},p(o,[r]){const l={};r&8&&(l.startX=o[3].left+o[3].width),r&8&&(l.startY=o[3].top+o[3].height/2),r&16&&(l.endX=o[4].left),r&16&&(l.endY=o[4].top+o[4].height/2),r&2&&(l.stroke=o[1]),r&4&&(l.strokeWidth=o[2]),i.$set(l),(!n||r&1)&&z(e,"data-dependency-id",o[0])},i(o){n||(X(i.$$.fragment,o),n=!0)},o(o){K(i.$$.fragment,o),n=!1},d(o){o&&A(e),Ie(i)}}}function Js(t,e,n){let i;U(t,nt,h=>n(7,i=h));let{id:o}=e,{fromId:r}=e,{toId:l}=e,{stroke:s}=e,{strokeWidth:a}=e,c,d;return t.$set=h=>{"id"in h&&n(0,o=h.id),"fromId"in h&&n(5,r=h.fromId),"toId"in h&&n(6,l=h.toId),"stroke"in h&&n(1,s=h.stroke),"strokeWidth"in h&&n(2,a=h.strokeWidth)},t.$$.update=()=>{t.$$.dirty&160&&n(3,c=i.entities[r]),t.$$.dirty&192&&n(4,d=i.entities[l])},[o,s,a,c,d,r,l]}class $s extends xe{constructor(e){super(),Ze(this,e,Js,xs,Xe,{id:0,fromId:5,toId:6,stroke:1,strokeWidth:2})}}var er=".dependency-container.svelte-50yf7x{position:absolute;width:100%;height:100%;pointer-events:none;top:0;float:left;overflow:hidden;z-index:0}";Ue(er);function fo(t,e,n){const i=t.slice();return i[6]=e[n],i}function ho(t,e){let n,i;const o=[e[6]];let r={};for(let s=0;s<o.length;s+=1)r=Mt(r,o[s]);const l=new $s({props:r});return{key:t,first:null,c(){n=zt(),Ne(l.$$.fragment),this.first=n},m(s,a){B(s,n,a),Be(l,s,a),i=!0},p(s,a){const c=a&1?rn(o,[an(s[6])]):{};l.$set(c)},i(s){i||(X(l.$$.fragment,s),i=!0)},o(s){K(l.$$.fragment,s),i=!1},d(s){s&&A(n),Ie(l,s)}}}function tr(t){let e,n=[],i=new Map,o,r=t[0];const l=s=>s[6].id;for(let s=0;s<r.length;s+=1){let a=fo(t,r,s),c=l(a);i.set(c,n[s]=ho(c,a))}return{c(){e=P("div");for(let s=0;s<n.length;s+=1)n[s].c();z(e,"class","dependency-container svelte-50yf7x")},m(s,a){B(s,e,a);for(let c=0;c<n.length;c+=1)n[c].m(e,null);o=!0},p(s,[a]){if(a&1){const c=s[0];ct(),n=wn(n,a,l,1,s,c,i,e,bn,ho,null,fo),ut()}},i(s){if(!o){for(let a=0;a<r.length;a+=1)X(n[a]);o=!0}},o(s){for(let a=0;a<n.length;a+=1)K(n[a]);o=!1},d(s){s&&A(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function nr(t,e,n){let i,o;U(t,nt,c=>n(4,i=c));const{visibleHeight:r}=De("dimensions");U(t,r,c=>n(5,o=c));let{paddingTop:l}=e,{dependencies:s=[]}=e,a=[];return t.$set=c=>{"paddingTop"in c&&n(2,l=c.paddingTop),"dependencies"in c&&n(3,s=c.dependencies)},t.$$.update=()=>{if(t.$$.dirty&60){const c=[];for(let d=0;d<s.length;d++){const h=s[d],v=i.entities,p=v[h.fromId],k=v[h.toId];p&&k&&Math.min(p.top,k.top)<=l+o&&Math.max(p.top,k.top)>=l&&c.push(h)}n(0,a=c)}},[a,r,l,s]}class ir extends xe{constructor(e){super(),Ze(this,e,nr,tr,Xe,{paddingTop:2,dependencies:3})}}var gr=ir;const or={enabled:!0,elementContent:()=>{const t=document.createElement("div");return t.innerHTML="New Task",Object.assign(t.style,{position:"absolute",background:"#eee",padding:"0.5em 1em",fontSize:"12px",pointerEvents:"none"}),t}};class mr{constructor(e,n){this.options=Object.assign({},or,n),this.draggable=new Qn(e,{onDrag:this.onDrag.bind(this),dragAllowed:()=>this.options.enabled,resizeAllowed:!1,onDrop:this.onDrop.bind(this),container:document.body,getX:i=>i.pageX,getY:i=>i.pageY,getWidth:()=>0})}onDrag({x:e,y:n}){this.element||(this.element=this.options.elementContent(),document.body.appendChild(this.element),this.options.dragging=!0),this.element.style.top=n+"px",this.element.style.left=e+"px"}onDrop(e){var n,i,o,r;const l=this.options.gantt,s=l.dndManager.getTarget("row",e.mouseEvent);if(s){const a=sn(l.getRowContainer(),e.mouseEvent),c=l.utils.getDateByPosition(a.x);(i=(n=this.options).onsuccess)===null||i===void 0||i.call(n,s,c,l)}else(r=(o=this.options).onfail)===null||r===void 0||r.call(o);document.body.removeChild(this.element),this.options.dragging=!1,this.element=null}}var br=ks;function wr(t){return Qo(t,"HH:mm")}function lr(t){let e,n,i,o,r,l;return{c(){e=V("div"),n=V("input"),i=ye(),o=V("input"),this.h()},l(s){e=Q(s,"DIV",{class:!0});var a=de(e);n=Q(a,"INPUT",{type:!0,class:!0}),i=Te(a),o=Q(a,"INPUT",{type:!0,class:!0}),a.forEach(ee),this.h()},h(){C(n,"type","date"),C(n,"class","svelte-x7oi7h"),C(o,"type","time"),C(o,"class","svelte-x7oi7h"),C(e,"class","date-time svelte-x7oi7h")},m(s,a){Tn(s,e,a),D(e,n),tt(n,t[0]),D(e,i),D(e,o),tt(o,t[1]),r||(l=[gt(n,"input",t[3]),gt(o,"input",t[4])],r=!0)},p(s,[a]){a&1&&tt(n,s[0]),a&2&&tt(o,s[1])},i:Yn,o:Yn,d(s){s&&ee(e),r=!1,To(l)}}}function sr(t,e,n){let{value:i}=e,o="",r="";function l(d){if(d){const[h,v]=new Date(d).toLocaleString("sv-SE").split(" ");n(0,o=h),n(1,r=v)}}function s(d,h){d&&h?n(2,i=new Date(`${d} ${h}`)):n(2,i=null)}function a(){o=this.value,n(0,o)}function c(){r=this.value,n(1,r)}return t.$$set=d=>{"value"in d&&n(2,i=d.value)},t.$$.update=()=>{t.$$.dirty&4&&l(i),t.$$.dirty&3&&s(o,r)},[o,r,i,a,c]}class go extends vo{constructor(e){super(),ko(this,e,sr,lr,yo,{value:2})}}function mo(t,e,n){const i=t.slice();return i[14]=e[n],i}function bo(t,e,n){const i=t.slice();return i[14]=e[n],i}function wo(t){let e,n,i,o,r,l,s,a,c,d,h,v,p,k,f,b,g,_,F,Y=t[0].rowHeight+"",S,R,q,O,Z,ue,re,fe,ne=t[0].rowPadding+"",ce,He,Ce,y,oe,ge,ve,it,M,we,qe,x,Re,Ee,Le,le,$,We,m,w,H,G,L,je,Ge,me,_t,Je,Me,ot,lt,Ve,$e,mt,At,st,Vt,rt,ft,Qt,Kt,et,dt,Ot,Yt,pt=t[2],be=[];for(let E=0;E<pt.length;E+=1)be[E]=_o(bo(t,pt,E));let bt=t[2],_e=[];for(let E=0;E<bt.length;E+=1)_e[E]=po(mo(t,bt,E));function Zt(E){t[9](E)}let xt={};t[0].from!==void 0&&(xt.value=t[0].from),G=new go({props:xt}),bi.push(()=>wi(G,"value",Zt));function cn(E){t[10](E)}let Ht={};return t[0].to!==void 0&&(Ht.value=t[0].to),Me=new go({props:Ht}),bi.push(()=>wi(Me,"value",cn)),{c(){e=V("div"),n=V("h3"),i=Pe("Options"),o=ye(),r=V("div"),l=V("label"),s=Pe("columnOffset"),a=ye(),c=V("select");for(let E=0;E<be.length;E+=1)be[E].c();d=ye(),h=V("div"),v=V("label"),p=Pe("magnetOffset"),k=ye(),f=V("select");for(let E=0;E<_e.length;E+=1)_e[E].c();b=ye(),g=V("div"),_=V("label"),F=Pe("rowHeight ("),S=Pe(Y),R=Pe(")"),q=ye(),O=V("input"),Z=ye(),ue=V("div"),re=V("label"),fe=Pe("rowPadding ("),ce=Pe(ne),He=Pe(")"),Ce=ye(),y=V("input"),oe=ye(),ge=V("div"),ve=V("label"),it=Pe("fitWidth"),M=ye(),we=V("input"),qe=ye(),x=V("div"),Re=V("label"),Ee=Pe("minWidth"),Le=ye(),le=V("input"),$=ye(),We=V("div"),m=V("label"),w=Pe("from"),H=ye(),_i(G.$$.fragment),je=ye(),Ge=V("div"),me=V("label"),_t=Pe("to"),Je=ye(),_i(Me.$$.fragment),lt=ye(),Ve=V("div"),$e=V("label"),mt=Pe("headers[0].format"),At=ye(),st=V("input"),Vt=ye(),rt=V("div"),ft=V("label"),Qt=Pe("headers[1].format"),Kt=ye(),et=V("input"),this.h()},l(E){e=Q(E,"DIV",{class:!0});var j=de(e);n=Q(j,"H3",{class:!0});var Se=de(n);i=Ae(Se,"Options"),Se.forEach(ee),o=Te(j),r=Q(j,"DIV",{class:!0});var vt=de(r);l=Q(vt,"LABEL",{for:!0,class:!0});var se=de(l);s=Ae(se,"columnOffset"),se.forEach(ee),a=Te(vt),c=Q(vt,"SELECT",{id:!0,class:!0});var kt=de(c);for(let Et=0;Et<be.length;Et+=1)be[Et].l(kt);kt.forEach(ee),vt.forEach(ee),d=Te(j),h=Q(j,"DIV",{class:!0});var Jt=de(h);v=Q(Jt,"LABEL",{for:!0,class:!0});var ht=de(v);p=Ae(ht,"magnetOffset"),ht.forEach(ee),k=Te(Jt),f=Q(Jt,"SELECT",{id:!0,class:!0});var $t=de(f);for(let Et=0;Et<_e.length;Et+=1)_e[Et].l($t);$t.forEach(ee),Jt.forEach(ee),b=Te(j),g=Q(j,"DIV",{class:!0});var en=de(g);_=Q(en,"LABEL",{for:!0,class:!0});var tn=de(_);F=Ae(tn,"rowHeight ("),S=Ae(tn,Y),R=Ae(tn,")"),tn.forEach(ee),q=Te(en),O=Q(en,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),en.forEach(ee),Z=Te(j),ue=Q(j,"DIV",{class:!0});var Bt=de(ue);re=Q(Bt,"LABEL",{for:!0,class:!0});var It=de(re);fe=Ae(It,"rowPadding ("),ce=Ae(It,ne),He=Ae(It,")"),It.forEach(ee),Ce=Te(Bt),y=Q(Bt,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),Bt.forEach(ee),oe=Te(j),ge=Q(j,"DIV",{class:!0});var Ut=de(ge);ve=Q(Ut,"LABEL",{for:!0,class:!0});var un=de(ve);it=Ae(un,"fitWidth"),un.forEach(ee),M=Te(Ut),we=Q(Ut,"INPUT",{id:!0,type:!0,class:!0}),Ut.forEach(ee),qe=Te(j),x=Q(j,"DIV",{class:!0});var ke=de(x);Re=Q(ke,"LABEL",{for:!0,class:!0});var Dt=de(Re);Ee=Ae(Dt,"minWidth"),Dt.forEach(ee),Le=Te(ke),le=Q(ke,"INPUT",{id:!0,type:!0,min:!0,class:!0}),ke.forEach(ee),$=Te(j),We=Q(j,"DIV",{class:!0});var at=de(We);m=Q(at,"LABEL",{for:!0,class:!0});var Ct=de(m);w=Ae(Ct,"from"),Ct.forEach(ee),H=Te(at),pi(G.$$.fragment,at),at.forEach(ee),je=Te(j),Ge=Q(j,"DIV",{class:!0});var jt=de(Ge);me=Q(jt,"LABEL",{for:!0,class:!0});var fn=de(me);_t=Ae(fn,"to"),fn.forEach(ee),Je=Te(jt),pi(Me.$$.fragment,jt),jt.forEach(ee),lt=Te(j),Ve=Q(j,"DIV",{class:!0});var pe=de(Ve);$e=Q(pe,"LABEL",{for:!0,class:!0});var dn=de($e);mt=Ae(dn,"headers[0].format"),dn.forEach(ee),At=Te(pe),st=Q(pe,"INPUT",{id:!0,type:!0,class:!0}),pe.forEach(ee),Vt=Te(j),rt=Q(j,"DIV",{class:!0});var Ft=de(rt);ft=Q(Ft,"LABEL",{for:!0,class:!0});var Cn=de(ft);Qt=Ae(Cn,"headers[1].format"),Cn.forEach(ee),Kt=Te(Ft),et=Q(Ft,"INPUT",{id:!0,type:!0,class:!0}),Ft.forEach(ee),j.forEach(ee),this.h()},h(){C(n,"class","svelte-14td6w1"),C(l,"for","columnOffset"),C(l,"class","form-label svelte-14td6w1"),C(c,"id","columnOffset"),C(c,"class","svelte-14td6w1"),t[0].columnOffset===void 0&&vi(()=>t[3].call(c)),C(r,"class","form-group svelte-14td6w1"),C(v,"for","magnetOffset"),C(v,"class","form-label svelte-14td6w1"),C(f,"id","magnetOffset"),C(f,"class","svelte-14td6w1"),t[0].magnetOffset===void 0&&vi(()=>t[4].call(f)),C(h,"class","form-group svelte-14td6w1"),C(_,"for","rowHeight"),C(_,"class","form-label svelte-14td6w1"),C(O,"id","rowHeight"),C(O,"type","range"),C(O,"min","20"),C(O,"max","100"),C(O,"class","svelte-14td6w1"),C(g,"class","form-group svelte-14td6w1"),C(re,"for","rowPadding"),C(re,"class","form-label svelte-14td6w1"),C(y,"id","rowPadding"),C(y,"type","range"),C(y,"min","0"),C(y,"max","20"),C(y,"step","2"),C(y,"class","svelte-14td6w1"),C(ue,"class","form-group svelte-14td6w1"),C(ve,"for","fitWidth"),C(ve,"class","form-label svelte-14td6w1"),C(we,"id","fitWidth"),C(we,"type","checkbox"),C(we,"class","svelte-14td6w1"),C(ge,"class","form-group relative h-10 svelte-14td6w1"),C(Re,"for","minWidth"),C(Re,"class","form-label svelte-14td6w1"),C(le,"id","minWidth"),C(le,"type","number"),C(le,"min","800"),C(le,"class","svelte-14td6w1"),C(x,"class","form-group svelte-14td6w1"),C(m,"for","from"),C(m,"class","form-label svelte-14td6w1"),C(We,"class","form-group svelte-14td6w1"),C(me,"for","to"),C(me,"class","form-label svelte-14td6w1"),C(Ge,"class","form-group svelte-14td6w1"),C($e,"for","first-format"),C($e,"class","form-label svelte-14td6w1"),C(st,"id","first-format"),C(st,"type","text"),C(st,"class","svelte-14td6w1"),C(Ve,"class","form-group svelte-14td6w1"),C(ft,"for","second-format"),C(ft,"class","form-label svelte-14td6w1"),C(et,"id","second-format"),C(et,"type","text"),C(et,"class","svelte-14td6w1"),C(rt,"class","form-group svelte-14td6w1"),C(e,"class","controls bg-tertiary-200 h-full max-h-full overflow-y-scroll hide-scrollbar text-black svelte-14td6w1")},m(E,j){Tn(E,e,j),D(e,n),D(n,i),D(e,o),D(e,r),D(r,l),D(l,s),D(r,a),D(r,c);for(let Se=0;Se<be.length;Se+=1)be[Se]&&be[Se].m(c,null);Rn(c,t[0].columnOffset,!0),D(e,d),D(e,h),D(h,v),D(v,p),D(h,k),D(h,f);for(let Se=0;Se<_e.length;Se+=1)_e[Se]&&_e[Se].m(f,null);Rn(f,t[0].magnetOffset,!0),D(e,b),D(e,g),D(g,_),D(_,F),D(_,S),D(_,R),D(g,q),D(g,O),tt(O,t[0].rowHeight),D(e,Z),D(e,ue),D(ue,re),D(re,fe),D(re,ce),D(re,He),D(ue,Ce),D(ue,y),tt(y,t[0].rowPadding),D(e,oe),D(e,ge),D(ge,ve),D(ve,it),D(ge,M),D(ge,we),we.checked=t[0].fitWidth,D(e,qe),D(e,x),D(x,Re),D(Re,Ee),D(x,Le),D(x,le),tt(le,t[0].minWidth),D(e,$),D(e,We),D(We,m),D(m,w),D(We,H),ki(G,We,null),D(e,je),D(e,Ge),D(Ge,me),D(me,_t),D(Ge,Je),ki(Me,Ge,null),D(e,lt),D(e,Ve),D(Ve,$e),D($e,mt),D(Ve,At),D(Ve,st),tt(st,t[0].headers[0].format),D(e,Vt),D(e,rt),D(rt,ft),D(ft,Qt),D(rt,Kt),D(rt,et),tt(et,t[0].headers[1].format),dt=!0,Ot||(Yt=[gt(c,"change",t[3]),gt(f,"change",t[4]),gt(O,"change",t[5]),gt(O,"input",t[5]),gt(y,"change",t[6]),gt(y,"input",t[6]),gt(we,"change",t[7]),gt(le,"input",t[8]),gt(st,"input",t[11]),gt(et,"input",t[12])],Ot=!0)},p(E,j){if(j&4){pt=E[2];let se;for(se=0;se<pt.length;se+=1){const kt=bo(E,pt,se);be[se]?be[se].p(kt,j):(be[se]=_o(kt),be[se].c(),be[se].m(c,null))}for(;se<be.length;se+=1)be[se].d(1);be.length=pt.length}if(j&5&&Rn(c,E[0].columnOffset),j&4){bt=E[2];let se;for(se=0;se<bt.length;se+=1){const kt=mo(E,bt,se);_e[se]?_e[se].p(kt,j):(_e[se]=po(kt),_e[se].c(),_e[se].m(f,null))}for(;se<_e.length;se+=1)_e[se].d(1);_e.length=bt.length}j&5&&Rn(f,E[0].magnetOffset),(!dt||j&1)&&Y!==(Y=E[0].rowHeight+"")&&yi(S,Y),j&5&&tt(O,E[0].rowHeight),(!dt||j&1)&&ne!==(ne=E[0].rowPadding+"")&&yi(ce,ne),j&5&&tt(y,E[0].rowPadding),j&5&&(we.checked=E[0].fitWidth),j&5&&Ln(le.value)!==E[0].minWidth&&tt(le,E[0].minWidth);const Se={};!L&&j&1&&(L=!0,Se.value=E[0].from,Ti(()=>L=!1)),G.$set(Se);const vt={};!ot&&j&1&&(ot=!0,vt.value=E[0].to,Ti(()=>ot=!1)),Me.$set(vt),j&5&&st.value!==E[0].headers[0].format&&tt(st,E[0].headers[0].format),j&5&&et.value!==E[0].headers[1].format&&tt(et,E[0].headers[1].format)},i(E){dt||(_n(G.$$.fragment,E),_n(Me.$$.fragment,E),dt=!0)},o(E){Bn(G.$$.fragment,E),Bn(Me.$$.fragment,E),dt=!1},d(E){E&&ee(e),zi(be,E),zi(_e,E),Di(G),Di(Me),Ot=!1,To(Yt)}}}function _o(t){let e,n=t[14]+"",i;return{c(){e=V("option"),i=Pe(n),this.h()},l(o){e=Q(o,"OPTION",{});var r=de(e);i=Ae(r,n),r.forEach(ee),this.h()},h(){e.__value=t[14],e.value=e.__value},m(o,r){Tn(o,e,r),D(e,i)},p:Yn,d(o){o&&ee(e)}}}function po(t){let e,n=t[14]+"",i;return{c(){e=V("option"),i=Pe(n),this.h()},l(o){e=Q(o,"OPTION",{});var r=de(e);i=Ae(r,n),r.forEach(ee),this.h()},h(){e.__value=t[14],e.value=e.__value},m(o,r){Tn(o,e,r),D(e,i)},p:Yn,d(o){o&&ee(e)}}}function rr(t){let e,n,i=t[1]&&wo(t);return{c(){i&&i.c(),e=mi()},l(o){i&&i.l(o),e=mi()},m(o,r){i&&i.m(o,r),Tn(o,e,r),n=!0},p(o,[r]){o[1]?i?(i.p(o,r),r&2&&_n(i,1)):(i=wo(o),i.c(),_n(i,1),i.m(e.parentNode,e)):i&&(Ko(),Bn(i,1,1,()=>{i=null}),Zo())},i(o){n||(_n(i),n=!0)},o(o){Bn(i),n=!1},d(o){i&&i.d(o),o&&ee(e)}}}function ar(t,e,n){let i;xo(t,$o,g=>n(1,i=g));let{options:o}=e;const r=Jo(),l=[5,10,15,30];function s(){o.columnOffset=Ci(this),n(0,o),n(2,l)}function a(){o.magnetOffset=Ci(this),n(0,o),n(2,l)}function c(){o.rowHeight=Ln(this.value),n(0,o),n(2,l)}function d(){o.rowPadding=Ln(this.value),n(0,o),n(2,l)}function h(){o.fitWidth=this.checked,n(0,o),n(2,l)}function v(){o.minWidth=Ln(this.value),n(0,o),n(2,l)}function p(g){t.$$.not_equal(o.from,g)&&(o.from=g,n(0,o))}function k(g){t.$$.not_equal(o.to,g)&&(o.to=g,n(0,o))}function f(){o.headers[0].format=this.value,n(0,o),n(2,l)}function b(){o.headers[1].format=this.value,n(0,o),n(2,l)}return t.$$set=g=>{"options"in g&&n(0,o=g.options)},t.$$.update=()=>{t.$$.dirty&1&&r("change",o)},[o,i,l,s,a,c,d,h,v,p,k,f,b]}class _r extends vo{constructor(e){super(),ko(this,e,ar,rr,yo,{options:0})}}export{_r as G,dr as M,br as S,hr as a,gr as b,mr as c,wr as t};
