import{S as ce,i as fe,s as Ae,a as x,b as z,h as Z,q as W,B as be,R as ge,z as J,w as P,x as K,E as ie,N as ke,O as Ee,P as Ie,Q as Be,e as B,t as T,d as R,f as Q,g as y,k as U,l as h,j as $,m as u,o as ne,p as q,r as A,v as me,y as pe,X as Qe,K as ze,A as ue,J as he,M as He,V as ve,T as Ce,I as we,U as Ze,u as re,C as We,L as Ke,G as Xe}from"./index.9f73b2d7.js";import"./index.5e2a9a64.js";import{I as Me}from"./Icon.cafc8574.js";import{h as xe,t as et}from"./tippy.5ed76a5d.js";import{p as tt}from"./stores.8891c93c.js";import{e as Se}from"./forms.1059074d.js";import{t as ae}from"./toasts.61af73bb.js";import"./Modal.svelte_svelte_type_style_lang.7c9bde1f.js";import{a as lt}from"./navigation.afdaed4a.js";import"./ProgressBar.svelte_svelte_type_style_lang.b57464ad.js";import"./moment.a354566a.js";import"./chunk-5UWJICAP.5753fd06.js";import{B as st}from"./Button.0d438fe4.js";import{P as at,a as nt}from"./play.4297f40f.js";function it(s){let e;const l=s[2].default,t=ke(l,s,s[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),e=!0},p(n,a){t&&t.p&&(!e||a&8)&&Ee(t,l,n,n[3],e?Be(l,n[3],a,null):Ie(n[3]),null)},i(n){e||(J(t,n),e=!0)},o(n){P(t,n),e=!1},d(n){t&&t.d(n)}}}function rt(s){let e,l;const t=[{name:"clock-8"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[it]},$$scope:{ctx:s}};for(let a=0;a<t.length;a+=1)n=x(n,t[a]);return e=new Me({props:n}),{c(){z(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,i){W(e,a,i),l=!0},p(a,[i]){const r=i&3?be(t,[t[0],i&2&&ge(a[1]),i&1&&{iconNode:a[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:a}),e.$set(r)},i(a){l||(J(e.$$.fragment,a),l=!0)},o(a){P(e.$$.fragment,a),l=!1},d(a){K(e,a)}}}function ot(s,e,l){let{$$slots:t={},$$scope:n}=e;const a=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 8 14"}]];return s.$$set=i=>{l(1,e=x(x({},e),ie(i))),"$$scope"in i&&l(3,n=i.$$scope)},e=ie(e),[a,e,t,n]}class ut extends ce{constructor(e){super(),fe(this,e,ot,rt,Ae,{})}}const ct=ut;function ft(s){let e;const l=s[2].default,t=ke(l,s,s[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),e=!0},p(n,a){t&&t.p&&(!e||a&8)&&Ee(t,l,n,n[3],e?Be(l,n[3],a,null):Ie(n[3]),null)},i(n){e||(J(t,n),e=!0)},o(n){P(t,n),e=!1},d(n){t&&t.d(n)}}}function At(s){let e,l;const t=[{name:"list-plus"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[ft]},$$scope:{ctx:s}};for(let a=0;a<t.length;a+=1)n=x(n,t[a]);return e=new Me({props:n}),{c(){z(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,i){W(e,a,i),l=!0},p(a,[i]){const r=i&3?be(t,[t[0],i&2&&ge(a[1]),i&1&&{iconNode:a[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:a}),e.$set(r)},i(a){l||(J(e.$$.fragment,a),l=!0)},o(a){P(e.$$.fragment,a),l=!1},d(a){K(e,a)}}}function dt(s,e,l){let{$$slots:t={},$$scope:n}=e;const a=[["path",{d:"M11 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M16 18H3"}],["path",{d:"M18 9v6"}],["path",{d:"M21 12h-6"}]];return s.$$set=i=>{l(1,e=x(x({},e),ie(i))),"$$scope"in i&&l(3,n=i.$$scope)},e=ie(e),[a,e,t,n]}class ht extends ce{constructor(e){super(),fe(this,e,dt,At,Ae,{})}}const mt=ht;function pt(s){let e;const l=s[2].default,t=ke(l,s,s[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),e=!0},p(n,a){t&&t.p&&(!e||a&8)&&Ee(t,l,n,n[3],e?Be(l,n[3],a,null):Ie(n[3]),null)},i(n){e||(J(t,n),e=!0)},o(n){P(t,n),e=!1},d(n){t&&t.d(n)}}}function _t(s){let e,l;const t=[{name:"list-x"},s[1],{iconNode:s[0]}];let n={$$slots:{default:[pt]},$$scope:{ctx:s}};for(let a=0;a<t.length;a+=1)n=x(n,t[a]);return e=new Me({props:n}),{c(){z(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,i){W(e,a,i),l=!0},p(a,[i]){const r=i&3?be(t,[t[0],i&2&&ge(a[1]),i&1&&{iconNode:a[0]}]):{};i&8&&(r.$$scope={dirty:i,ctx:a}),e.$set(r)},i(a){l||(J(e.$$.fragment,a),l=!0)},o(a){P(e.$$.fragment,a),l=!1},d(a){K(e,a)}}}function vt(s,e,l){let{$$slots:t={},$$scope:n}=e;const a=[["path",{d:"M11 12H3"}],["path",{d:"M16 6H3"}],["path",{d:"M16 18H3"}],["path",{d:"m19 10-4 4"}],["path",{d:"m15 10 4 4"}]];return s.$$set=i=>{l(1,e=x(x({},e),ie(i))),"$$scope"in i&&l(3,n=i.$$scope)},e=ie(e),[a,e,t,n]}class bt extends ce{constructor(e){super(),fe(this,e,vt,_t,Ae,{})}}const gt=bt;function Re(s){const e=Math.floor(s/1e3%60),l=Math.floor(s/(1e3*60)%60),t=Math.floor(s/(1e3*60*60)%24),n=l===0?"00":l,a=e<10?"0"+e:e;return`${t>0?`${t}:`:""}${n}:${a}`}const kt="data:image/gif;base64,R0lGODlhGAAYAPABAB25VP///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDRDUyN0E0OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDRDUyN0E1OTUwRDExRUE4NDY1QkYwRjJDNTZBRkY4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0NENTI3QTI5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0NENTI3QTM5NTBEMTFFQTg0NjVCRjBGMkM1NkFGRjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++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";function $e(s,e,l){const t=s.slice();return t[13]=e[l],t[15]=l,t}function Ye(s,e,l){const t=s.slice();return t[16]=e[l],t}function Oe(s,e,l){const t=s.slice();return t[19]=e[l],t[21]=l,t}function Et(s){let e,l=s[15]+1+"",t;return{c(){e=B("span"),t=T(l),this.h()},l(n){e=Q(n,"SPAN",{class:!0});var a=y(e);t=U(a,l),a.forEach(h),this.h()},h(){u(e,"class","number svelte-1bhxh18")},m(n,a){q(n,e,a),A(e,t)},p:He,d(n){n&&h(e)}}}function It(s){let e,l;return{c(){e=B("img"),this.h()},l(t){e=Q(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){u(e,"class","playing-gif shadow-lg shadow-white svelte-1bhxh18"),ve(e.src,l=kt)||u(e,"src",l),u(e,"alt","")},m(t,n){q(t,e,n)},p:He,d(t){t&&h(e)}}}function qe(s){let e,l;return{c(){e=B("span"),l=T("Explicit"),this.h()},l(t){e=Q(t,"SPAN",{class:!0});var n=y(e);l=U(n,"Explicit"),n.forEach(h),this.h()},h(){u(e,"class","explicit svelte-1bhxh18")},m(t,n){q(t,e,n),A(e,l)},d(t){t&&h(e)}}}function Le(s){let e=", ",l;return{c(){l=T(e)},l(t){l=U(t,e)},m(t,n){q(t,l,n)},d(t){t&&h(l)}}}function Fe(s){let e,l=s[19].name+"",t,n,a,i=s[21]<s[13].artists.length-1&&Le();return{c(){e=B("a"),t=T(l),i&&i.c(),a=he(),this.h()},l(r){e=Q(r,"A",{href:!0,class:!0});var c=y(e);t=U(c,l),c.forEach(h),i&&i.l(r),a=he(),this.h()},h(){u(e,"href",n="/spotify/artist/"+s[19].id),u(e,"class","svelte-1bhxh18")},m(r,c){q(r,e,c),A(e,t),i&&i.m(r,c),q(r,a,c)},p(r,c){c&1&&l!==(l=r[19].name+"")&&ue(t,l),c&1&&n!==(n="/spotify/artist/"+r[19].id)&&u(e,"href",n),r[21]<r[13].artists.length-1?i||(i=Le(),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(r){r&&h(e),i&&i.d(r),r&&h(a)}}}function Bt(s){let e,l,t,n,a,i,r,c,b,v,C;l=new mt({props:{"aria-hidden":!0,focusable:"false"}});function k(){return s[11](s[13])}let g=s[2]&&Ve(s);return{c(){e=B("button"),z(l.$$.fragment),r=R(),g&&g.c(),c=he(),this.h()},l(m){e=Q(m,"BUTTON",{title:!0,"aria-label":!0,class:!0});var w=y(e);Z(l.$$.fragment,w),w.forEach(h),r=$(m),g&&g.l(m),c=he(),this.h()},h(){u(e,"title",t="Add "+s[13].name+" to a playlist"),u(e,"aria-label",n="Add "+s[13].name+" to a playlist"),u(e,"class","add-pl-button svelte-1bhxh18"),e.disabled=a=!s[2]},m(m,w){q(m,e,w),W(l,e,null),q(m,r,w),g&&g.m(m,w),q(m,c,w),b=!0,v||(C=Ce(i=et.call(null,e,{content:document.getElementById(`${s[13].id}-playlists-menu`)||void 0,allowHTML:!0,trigger:"click",interactive:!0,theme:"menu",placement:"bottom-end",onMount:k})),v=!0)},p(m,w){s=m,(!b||w&1&&t!==(t="Add "+s[13].name+" to a playlist"))&&u(e,"title",t),(!b||w&1&&n!==(n="Add "+s[13].name+" to a playlist"))&&u(e,"aria-label",n),(!b||w&4&&a!==(a=!s[2]))&&(e.disabled=a),i&&we(i.update)&&w&1&&i.update.call(null,{content:document.getElementById(`${s[13].id}-playlists-menu`)||void 0,allowHTML:!0,trigger:"click",interactive:!0,theme:"menu",placement:"bottom-end",onMount:k}),s[2]?g?(g.p(s,w),w&4&&J(g,1)):(g=Ve(s),g.c(),J(g,1),g.m(c.parentNode,c)):g&&(me(),P(g,1,1,()=>{g=null}),pe())},i(m){b||(J(l.$$.fragment,m),J(g),b=!0)},o(m){P(l.$$.fragment,m),P(g),b=!1},d(m){m&&h(e),K(l),m&&h(r),g&&g.d(m),m&&h(c),v=!1,C()}}}function Qt(s){let e,l,t,n,a,i,r,c,b,v,C,k,g,m;i=new gt({props:{"aria-hidden":!0,focusable:"false"}});function w(...o){return s[10](s[13],...o)}return{c(){e=B("form"),l=B("input"),n=R(),a=B("button"),z(i.$$.fragment),this.h()},l(o){e=Q(o,"FORM",{method:!0,action:!0});var p=y(e);l=Q(p,"INPUT",{name:!0}),n=$(p),a=Q(p,"BUTTON",{type:!0,title:!0,"aria-label":!0,class:!0});var f=y(a);Z(i.$$.fragment,f),f.forEach(h),p.forEach(h),this.h()},h(){l.hidden=!0,u(l,"name","track"),l.value=t=s[13].id,u(a,"type","submit"),u(a,"title",r="Remove "+s[13].name+" from playlist"),u(a,"aria-label",c="Remove "+s[13].name+" from playlist"),u(a,"class","remove-pl-button svelte-1bhxh18"),a.disabled=b=s[6].includes(s[13].id),u(e,"method","POST"),u(e,"action",v="/spotify/playlist/"+s[7].params.id+"?/removeItem")},m(o,p){q(o,e,p),A(e,l),A(e,n),A(e,a),W(i,a,null),k=!0,g||(m=Ce(C=Se.call(null,e,w)),g=!0)},p(o,p){s=o,(!k||p&1&&t!==(t=s[13].id)&&l.value!==t)&&(l.value=t),(!k||p&1&&r!==(r="Remove "+s[13].name+" from playlist"))&&u(a,"title",r),(!k||p&1&&c!==(c="Remove "+s[13].name+" from playlist"))&&u(a,"aria-label",c),(!k||p&65&&b!==(b=s[6].includes(s[13].id)))&&(a.disabled=b),(!k||p&128&&v!==(v="/spotify/playlist/"+s[7].params.id+"?/removeItem"))&&u(e,"action",v),C&&we(C.update)&&p&193&&C.update.call(null,w)},i(o){k||(J(i.$$.fragment,o),k=!0)},o(o){P(i.$$.fragment,o),k=!1},d(o){o&&h(e),K(i),g=!1,m()}}}function Ve(s){let e,l,t,n,a,i,r,c,b,v,C,k,g,m,w,o,p,f=s[2],M=[];for(let d=0;d<f.length;d+=1)M[d]=Te(Ye(s,f,d));C=new st({props:{element:"button",type:"submit",$$slots:{default:[Ct]},$$scope:{ctx:s}}});function I(...d){return s[12](s[13],...d)}return{c(){e=B("div"),l=B("div"),t=B("form"),n=B("input"),i=R(),r=B("div"),c=B("select");for(let d=0;d<M.length;d+=1)M[d].c();b=R(),v=B("div"),z(C.$$.fragment),this.h()},l(d){e=Q(d,"DIV",{class:!0,id:!0,style:!0});var _=y(e);l=Q(_,"DIV",{class:!0});var N=y(l);t=Q(N,"FORM",{method:!0,action:!0});var D=y(t);n=Q(D,"INPUT",{name:!0}),i=$(D),r=Q(D,"DIV",{class:!0});var G=y(r);c=Q(G,"SELECT",{"aria-label":!0,name:!0,class:!0});var X=y(c);for(let S=0;S<M.length;S+=1)M[S].l(X);X.forEach(h),G.forEach(h),b=$(D),v=Q(D,"DIV",{class:!0});var F=y(v);Z(C.$$.fragment,F),F.forEach(h),D.forEach(h),N.forEach(h),_.forEach(h),this.h()},h(){n.hidden=!0,n.value=a=s[13].id,u(n,"name","track"),u(c,"aria-label","Playlist"),u(c,"name","playlist"),u(c,"class","text-black leading-4 svelte-1bhxh18"),u(r,"class","field"),u(v,"class","submit-button svelte-1bhxh18"),u(t,"method","POST"),u(t,"action",k="/spotify/playlist?/addItem&redirect="+s[7].url.pathname),u(l,"class","playlists-menu-content svelte-1bhxh18"),u(e,"class","playlists-menu"),u(e,"id",m=s[13].id+"-playlists-menu"),Ze(e,"display","none")},m(d,_){q(d,e,_),A(e,l),A(l,t),A(t,n),A(t,i),A(t,r),A(r,c);for(let N=0;N<M.length;N+=1)M[N]&&M[N].m(c,null);A(t,b),A(t,v),W(C,v,null),w=!0,o||(p=Ce(g=Se.call(null,t,I)),o=!0)},p(d,_){if(s=d,(!w||_&1&&a!==(a=s[13].id)&&n.value!==a)&&(n.value=a),_&4){f=s[2];let D;for(D=0;D<f.length;D+=1){const G=Ye(s,f,D);M[D]?M[D].p(G,_):(M[D]=Te(G),M[D].c(),M[D].m(c,null))}for(;D<M.length;D+=1)M[D].d(1);M.length=f.length}const N={};_&4194305&&(N.$$scope={dirty:_,ctx:s}),C.$set(N),(!w||_&128&&k!==(k="/spotify/playlist?/addItem&redirect="+s[7].url.pathname))&&u(t,"action",k),g&&we(g.update)&&_&161&&g.update.call(null,I),(!w||_&1&&m!==(m=s[13].id+"-playlists-menu"))&&u(e,"id",m)},i(d){w||(J(C.$$.fragment,d),w=!0)},o(d){P(C.$$.fragment,d),w=!1},d(d){d&&h(e),Qe(M,d),K(C),o=!1,p()}}}function Te(s){let e,l=s[16].name+"",t,n,a;return{c(){e=B("option"),t=T(l),n=R(),this.h()},l(i){e=Q(i,"OPTION",{});var r=y(e);t=U(r,l),n=$(r),r.forEach(h),this.h()},h(){e.__value=a=s[16].id,e.value=e.__value},m(i,r){q(i,e,r),A(e,t),A(e,n)},p(i,r){r&4&&l!==(l=i[16].name+"")&&ue(t,l),r&4&&a!==(a=i[16].id)&&(e.__value=a,e.value=e.__value)},d(i){i&&h(e)}}}function Ct(s){let e,l,t=s[13].name+"",n,a;return{c(){e=T("Add "),l=B("span"),n=T(t),a=T(" to selected playlist."),this.h()},l(i){e=U(i,"Add "),l=Q(i,"SPAN",{class:!0});var r=y(l);n=U(r,t),a=U(r," to selected playlist."),r.forEach(h),this.h()},h(){u(l,"class","visually-hidden")},m(i,r){q(i,e,r),q(i,l,r),A(l,n),A(l,a)},p(i,r){r&1&&t!==(t=i[13].name+"")&&ue(n,t)},d(i){i&&h(e),i&&h(l)}}}function Ue(s){let e,l,t,n,a,i,r,c,b,v,C,k=s[13].name+"",g,m,w,o,p,f,M,I=Re(s[13].duration_ms)+"",d,_,N,D,G,X,F;function S(E,j){return E[3]===E[13].id&&!E[4]?It:Et}let de=S(s),H=de(s);r=new Jt({props:{track:s[13]}}),r.$on("play",s[8]),r.$on("pause",s[9]);let L=s[13].explicit&&qe(),le=s[13].artists,Y=[];for(let E=0;E<le.length;E+=1)Y[E]=Fe(Oe(s,le,E));const ye=[Qt,Bt],ee=[];function De(E,j){return E[1]?0:1}return D=De(s),G=ee[D]=ye[D](s),{c(){e=B("div"),l=B("div"),t=R(),n=B("div"),H.c(),a=R(),i=B("div"),z(r.$$.fragment),c=R(),b=B("div"),v=B("div"),C=B("h4"),g=T(k),m=R(),L&&L.c(),w=R(),o=B("p");for(let E=0;E<Y.length;E+=1)Y[E].c();p=R(),f=B("div"),M=B("span"),d=T(I),_=R(),N=B("div"),G.c(),X=R(),this.h()},l(E){e=Q(E,"DIV",{class:!0});var j=y(e);l=Q(j,"DIV",{class:!0}),y(l).forEach(h),t=$(j),n=Q(j,"DIV",{class:!0});var V=y(n);H.l(V),a=$(V),i=Q(V,"DIV",{class:!0});var se=y(i);Z(r.$$.fragment,se),se.forEach(h),V.forEach(h),c=$(j),b=Q(j,"DIV",{class:!0});var O=y(b);v=Q(O,"DIV",{class:!0});var te=y(v);C=Q(te,"H4",{class:!0});var Ne=y(C);g=U(Ne,k),Ne.forEach(h),m=$(te),L&&L.l(te),te.forEach(h),w=$(O),o=Q(O,"P",{class:!0});var je=y(o);for(let _e=0;_e<Y.length;_e+=1)Y[_e].l(je);je.forEach(h),O.forEach(h),p=$(j),f=Q(j,"DIV",{class:!0});var Je=y(f);M=Q(Je,"SPAN",{class:!0});var Ge=y(M);d=U(Ge,I),Ge.forEach(h),Je.forEach(h),_=$(j),N=Q(j,"DIV",{class:!0});var Pe=y(N);G.l(Pe),Pe.forEach(h),X=$(j),j.forEach(h),this.h()},h(){u(l,"class","row svelte-1bhxh18"),ne(l,"is-current",s[3]===s[13].id),u(i,"class","player svelte-1bhxh18"),u(n,"class","number-column svelte-1bhxh18"),u(C,"class","svelte-1bhxh18"),u(v,"class","track-title svelte-1bhxh18"),u(o,"class","artists svelte-1bhxh18"),u(b,"class","info-column svelte-1bhxh18"),u(M,"class","duration svelte-1bhxh18"),u(f,"class","duration-column svelte-1bhxh18"),u(N,"class","actions-column svelte-1bhxh18"),ne(N,"is-owner",s[1]),u(e,"class","row svelte-1bhxh18")},m(E,j){q(E,e,j),A(e,l),A(e,t),A(e,n),H.m(n,null),A(n,a),A(n,i),W(r,i,null),A(e,c),A(e,b),A(b,v),A(v,C),A(C,g),A(v,m),L&&L.m(v,null),A(b,w),A(b,o);for(let V=0;V<Y.length;V+=1)Y[V]&&Y[V].m(o,null);A(e,p),A(e,f),A(f,M),A(M,d),A(e,_),A(e,N),ee[D].m(N,null),A(e,X),F=!0},p(E,j){(!F||j&9)&&ne(l,"is-current",E[3]===E[13].id),de===(de=S(E))&&H?H.p(E,j):(H.d(1),H=de(E),H&&(H.c(),H.m(n,a)));const V={};if(j&1&&(V.track=E[13]),r.$set(V),(!F||j&1)&&k!==(k=E[13].name+"")&&ue(g,k),E[13].explicit?L||(L=qe(),L.c(),L.m(v,null)):L&&(L.d(1),L=null),j&1){le=E[13].artists;let O;for(O=0;O<le.length;O+=1){const te=Oe(E,le,O);Y[O]?Y[O].p(te,j):(Y[O]=Fe(te),Y[O].c(),Y[O].m(o,null))}for(;O<Y.length;O+=1)Y[O].d(1);Y.length=le.length}(!F||j&1)&&I!==(I=Re(E[13].duration_ms)+"")&&ue(d,I);let se=D;D=De(E),D===se?ee[D].p(E,j):(me(),P(ee[se],1,1,()=>{ee[se]=null}),pe(),G=ee[D],G?G.p(E,j):(G=ee[D]=ye[D](E),G.c()),J(G,1),G.m(N,null)),(!F||j&2)&&ne(N,"is-owner",E[1])},i(E){F||(J(r.$$.fragment,E),J(G),F=!0)},o(E){P(r.$$.fragment,E),P(G),F=!1},d(E){E&&h(e),H.d(),K(r),L&&L.d(),Qe(Y,E),ee[D].d()}}}function wt(s){let e,l,t,n,a,i,r,c,b,v,C,k,g,m,w,o;k=new ct({props:{"aria-hidden":!0,focusable:"false"}});let p=s[0],f=[];for(let I=0;I<p.length;I+=1)f[I]=Ue($e(s,p,I));const M=I=>P(f[I],1,1,()=>{f[I]=null});return{c(){e=B("div"),l=B("div"),t=B("div"),n=B("span"),a=T("#"),i=R(),r=B("div"),c=B("span"),b=T("Title"),v=R(),C=B("div"),z(k.$$.fragment),g=R(),m=B("div"),w=R();for(let I=0;I<f.length;I+=1)f[I].c();this.h()},l(I){e=Q(I,"DIV",{class:!0});var d=y(e);l=Q(d,"DIV",{class:!0});var _=y(l);t=Q(_,"DIV",{class:!0});var N=y(t);n=Q(N,"SPAN",{class:!0});var D=y(n);a=U(D,"#"),D.forEach(h),N.forEach(h),i=$(_),r=Q(_,"DIV",{class:!0});var G=y(r);c=Q(G,"SPAN",{class:!0});var X=y(c);b=U(X,"Title"),X.forEach(h),G.forEach(h),v=$(_),C=Q(_,"DIV",{class:!0});var F=y(C);Z(k.$$.fragment,F),F.forEach(h),g=$(_),m=Q(_,"DIV",{class:!0}),y(m).forEach(h),_.forEach(h),w=$(d);for(let S=0;S<f.length;S+=1)f[S].l(d);d.forEach(h),this.h()},h(){u(n,"class","number svelte-1bhxh18"),u(t,"class","number-column svelte-1bhxh18"),u(c,"class","track-title svelte-1bhxh18"),u(r,"class","info-column svelte-1bhxh18"),u(C,"class","duration-column svelte-1bhxh18"),u(m,"class","actions-column svelte-1bhxh18"),ne(m,"is-owner",s[1]),u(l,"class","row header svelte-1bhxh18"),u(e,"class","tracks svelte-1bhxh18")},m(I,d){q(I,e,d),A(e,l),A(l,t),A(t,n),A(n,a),A(l,i),A(l,r),A(r,c),A(c,b),A(l,v),A(l,C),W(k,C,null),A(l,g),A(l,m),A(e,w);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);o=!0},p(I,[d]){if((!o||d&2)&&ne(m,"is-owner",I[1]),d&255){p=I[0];let _;for(_=0;_<p.length;_+=1){const N=$e(I,p,_);f[_]?(f[_].p(N,d),J(f[_],1)):(f[_]=Ue(N),f[_].c(),J(f[_],1),f[_].m(e,null))}for(me(),_=p.length;_<f.length;_+=1)M(_);pe()}},i(I){if(!o){J(k.$$.fragment,I);for(let d=0;d<p.length;d+=1)J(f[d]);o=!0}},o(I){P(k.$$.fragment,I),f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)P(f[d]);o=!1},d(I){I&&h(e),K(k),Qe(f,I)}}}function Mt(s,e,l){let t;ze(s,tt,o=>l(7,t=o));let{tracks:n}=e,{isOwner:a=!1}=e,{userPlaylists:i}=e,r=null,c=!1,b=[],v=[];const C=o=>{l(3,r=o.detail.track.id),l(4,c=!1)},k=o=>{l(4,c=o.detail.track.id===r)},g=(o,{cancel:p})=>(v.includes(o.id)&&p(),l(6,v=[...v,o.id]),({result:f})=>{if(f.type==="error"&&ae.error(f.error.message),f.type==="redirect"){const M=new URL(`${t.url.origin}${f.location}`),I=M.searchParams.get("error"),d=M.searchParams.get("success");I&&ae.error(I),d&&(ae.success(d),lt(`/spotify/api/spotify/playlists/${t.params.id}`))}l(6,v=v.filter(M=>M!==o.id))}),m=o=>{const p=document.getElementById(`${o.id}-playlists-menu`);p&&(p.style.display="block")},w=(o,{cancel:p})=>(b.includes(o.id)&&p(),l(5,b=[...b,o.id]),({result:f})=>{if(f.type==="error"&&ae.error(f.error.message),f.type==="redirect"){const M=new URL(`${t.url.origin}${f.location}`),I=M.searchParams.get("error"),d=M.searchParams.get("success");I&&ae.error(I),d&&(ae.success(d),xe())}l(5,b=b.filter(M=>M!==o.id))});return s.$$set=o=>{"tracks"in o&&l(0,n=o.tracks),"isOwner"in o&&l(1,a=o.isOwner),"userPlaylists"in o&&l(2,i=o.userPlaylists)},[n,a,i,r,c,b,v,t,C,k,g,m,w]}class zt extends ce{constructor(e){super(),fe(this,e,Mt,wt,Ae,{tracks:0,isOwner:1,userPlaylists:2})}}function yt(s){let e,l;return e=new at({props:{color:"var(--text-color)",focusable:"false","aria-hidden":!0}}),{c(){z(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},i(t){l||(J(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Dt(s){let e,l;return e=new nt({props:{color:"var(--text-color)",focusable:"false","aria-hidden":!0}}),{c(){z(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},i(t){l||(J(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){K(e,t)}}}function Nt(s){let e,l,t,n=!0,a,i,r,c,b,v,C,k;const g=[Dt,yt],m=[];function w(o,p){return o[2]?0:1}return r=w(s),c=m[r]=g[r](s),{c(){e=B("div"),l=B("audio"),a=R(),i=B("button"),c.c(),this.h()},l(o){e=Q(o,"DIV",{class:!0});var p=y(e);l=Q(p,"AUDIO",{src:!0,preload:!0,class:!0}),y(l).forEach(h),a=$(p),i=Q(p,"BUTTON",{"aria-label":!0,class:!0});var f=y(i);c.l(f),f.forEach(h),p.forEach(h),this.h()},h(){l.controls=!0,ve(l.src,t=s[0].preview_url)||u(l,"src",t),u(l,"preload","none"),u(l,"class","svelte-17cqbde"),u(i,"aria-label",b=s[2]?`Play ${s[0].name}`:`Pause ${s[0].name}`),u(i,"class","svelte-17cqbde"),u(e,"class","player svelte-17cqbde")},m(o,p){q(o,e,p),A(e,l),s[5](l),A(e,a),A(e,i),m[r].m(i,null),v=!0,C||(k=[re(l,"play",s[3]),re(l,"pause",s[4]),re(l,"play",s[6]),re(l,"pause",s[6]),re(i,"click",s[7])],C=!0)},p(o,[p]){(!v||p&1&&!ve(l.src,t=o[0].preview_url))&&u(l,"src",t),p&4&&n!==(n=o[2])&&l[n?"pause":"play"]();let f=r;r=w(o),r!==f&&(me(),P(m[f],1,1,()=>{m[f]=null}),pe(),c=m[r],c||(c=m[r]=g[r](o),c.c()),J(c,1),c.m(i,null)),(!v||p&5&&b!==(b=o[2]?`Play ${o[0].name}`:`Pause ${o[0].name}`))&&u(i,"aria-label",b)},i(o){v||(J(c),v=!0)},o(o){P(c),v=!1},d(o){o&&h(e),s[5](null),m[r].d(),C=!1,We(k)}}}let oe;function jt(s,e,l){let{track:t}=e;const n=Ke();let a,i=!0;function r(){oe&&oe!==a&&(oe.currentTime=0,oe.pause()),oe=a,n("play",{track:t})}function c(){n("pause",{track:t})}function b(k){Xe[k?"unshift":"push"](()=>{a=k,l(1,a)})}function v(){i=this.paused,l(2,i)}const C=()=>{i?a.play():a.pause()};return s.$$set=k=>{"track"in k&&l(0,t=k.track)},[t,a,i,r,c,b,v,C]}class Jt extends ce{constructor(e){super(),fe(this,e,jt,Nt,Ae,{track:0})}}export{zt as T};
