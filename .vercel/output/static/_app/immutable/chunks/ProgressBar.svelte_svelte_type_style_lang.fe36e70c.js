import{w as h}from"./index.f9064b73.js";import{a6 as M}from"./index.62fc0439.js";const d={};function P(e){return e==="local"?localStorage:sessionStorage}function m(e,t,s){var u,g;const o=(u=s==null?void 0:s.serializer)!=null?u:JSON,f=(g=s==null?void 0:s.storage)!=null?g:"local";function i(n,c){P(f).setItem(n,o.stringify(c))}if(!d[e]){const n=h(t,r=>{const a=P(f).getItem(e);a&&r(o.parse(a));{const w=l=>{l.key===e&&r(l.newValue?o.parse(l.newValue):null)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)}}),{subscribe:c,set:S}=n;d[e]={set(r){i(e,r),S(r)},update(r){const a=r(M(n));i(e,a),S(a)},subscribe:c}}return d[e]}const L=m("modeOsPrefers",!1),U=m("modeUserPrefers",void 0),_=m("modeCurrent",!1);function E(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return L.set(e),e}function b(e){U.set(e)}function I(e){const t=document.documentElement.classList,s="dark";e===!0?t.remove(s):t.add(s),_.set(e)}function O(){const e=document.documentElement.classList,t=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),o=window.matchMedia("(prefers-color-scheme: dark)").matches;t||s&&o?e.add("dark"):e.remove("dark")}export{I as a,b,E as g,_ as m,O as s};
