import{S as E,i as I,s as O,e as w,d as T,b as H,f as k,g as _,l as h,j as V,h as Y,m as b,p as A,r as M,q as G,z as C,w as P,x as W,K as L,a3 as B}from"../chunks/index.9f73b2d7.js";import{h as U}from"../chunks/moment.a354566a.js";import{G as j,t as n,M as q,a as F,b as K,S as N}from"../chunks/GanttOptions.0000d36e.js";import{m as D,s as S}from"../chunks/gantt.333a1f99.js";function R(i){let r,s,a,l,m;return l=new j({props:{options:i[0]}}),l.$on("change",i[1]),{c(){r=w("div"),s=w("div"),a=T(),H(l.$$.fragment),this.h()},l(c){r=k(c,"DIV",{class:!0});var o=_(r);s=k(o,"DIV",{id:!0,class:!0}),_(s).forEach(h),a=V(o),Y(l.$$.fragment,o),o.forEach(h),this.h()},h(){b(s,"id","example-gantt-events"),b(s,"class","svelte-lo7ar"),b(r,"class","container w-full h-full !max-w-[calc(100%-5px)] svelte-lo7ar")},m(c,o){A(c,r,o),M(r,s),M(r,a),G(l,r,null),m=!0},p(c,[o]){const d={};o&1&&(d.options=c[0]),l.$set(d)},i(c){m||(C(l.$$.fragment,c),m=!0)},o(c){P(l.$$.fragment,c),m=!1},d(c){c&&h(r),W(l)}}}function z(i,r){const s=r.getBoundingClientRect(),a=document.createElement("div");return a.className="sg-popup",a.innerHTML=`
            <div class="sg-popup-title">${i.label}</div>
            <div class="sg-popup-item">
                <div class="sg-popup-item-label">From:</div>
                <div class="sg-popup-item-value">${new Date(i.from).toLocaleTimeString()}</div>
            </div>
            <div class="sg-popup-item">
                <div class="sg-popup-item-label">To:</div>
                <div class="sg-popup-item-value">${new Date(i.to).toLocaleTimeString()}</div>
            </div>
        `,a.style.position="absolute",a.style.top=`${s.bottom}px`,a.style.left=`${s.left+s.width/2}px`,document.body.appendChild(a),a}function X(i,r,s){let a,l;L(i,D,t=>s(3,a=t)),L(i,S,t=>s(4,l=t));function m(t){console.log("trigger set view",t),t!="none"&&(t=="week"?(s(0,e.fitWidth=!0,e),s(0,e.columnUnit="hour",e),s(0,e.columnOffset=1,e),o=o.clone().startOf("week"),d=o.clone().endOf("week"),s(0,e.headers=[{unit:"month",format:"MMMM YYYY",sticky:!0},{unit:"day",format:"ddd DD",sticky:!0}],e)):t=="day"&&(s(0,e.fitWidth=!0,e),s(0,e.columnUnit="minute",e),s(0,e.columnOffset=15,e),o=o.clone().startOf("day"),d=o.clone().endOf("day"),s(0,e.headers=[{unit:"day",format:"DD.MM.YYYY"},{unit:"hour",format:"HH"}],e)),s(0,e.from=o,e),s(0,e.to=d,e),u.$set(e),S.set("none"))}function c(t){t!="none"&&(t=="prevDay"?(o.subtract(1,"day"),d.subtract(1,"day")):t=="nextDay"&&(o.add(1,"day"),d.add(1,"day")),s(0,e.from=o,e),s(0,e.to=d,e),u.$set(e),D.set("none"))}let o=n("06:00"),d=n("18:00");const g={rows:[{id:1,label:"Accounting"},{id:2,label:"Business Development"},{id:3,label:"Ida Flewan"},{id:4,label:"LaurÃ©na Shrigley"},{id:5,label:"Ange Kembry"}],tasks:[{id:3,resourceId:1,label:"PET-CT",from:n("13:30"),to:n("15:00"),classes:"orange"},{id:4,resourceId:1,label:"Auditing",from:n("9:30"),to:n("11:30"),classes:"orange"},{id:5,resourceId:2,label:"Security Clearance",from:n("15:15"),to:n("16:00"),classes:"green"},{id:6,resourceId:2,label:"Policy Analysis",from:n("14:00"),to:n("17:00"),classes:"blue"},{id:7,resourceId:2,label:"Xbox 360",from:n("13:00"),to:n("14:00"),classes:"blue"},{id:8,resourceId:3,label:"GNU/Linux",from:n("14:00"),to:n("15:30"),classes:"blue"},{id:9,resourceId:4,label:"Electronic Trading",from:n("15:00"),to:n("17:00"),classes:"green"},{id:10,resourceId:5,label:"Alternative Medicine",from:n("14:30"),to:n("15:30"),classes:"orange"}],dependencies:[]};let e={dateAdapter:new q(U),rows:g.rows,tasks:g.tasks,dependencies:g.dependencies,timeRanges:[],columnOffset:15,magnetOffset:15,rowHeight:52,rowPadding:6,headers:[{unit:"day",format:"MMMM Do"},{unit:"hour",format:"H:mm"}],fitWidth:!0,minWidth:600,from:o,to:d,tableHeaders:[{title:"Label",property:"label",width:140,type:"tree"}],tableWidth:240,ganttTableModules:[F],ganttBodyModules:[K],taskElementHook:(t,p)=>{let f;function v(){console.log("[task] hover",p),f=z(p,t)}function y(){console.log("[task] hover",p),f&&f.remove()}return t.addEventListener("mouseenter",v),t.addEventListener("mouseleave",y),{destroy(){console.log("[task] destroy"),t.removeEventListener("mouseenter",v),t.removeEventListener("mouseleave",y)}}}},u;B(()=>{window.gantt=u=new N({target:document.getElementById("example-gantt-events"),props:e}),u.api.tasks.on.move(t=>console.log("Listener: task move",t)),u.api.tasks.on.select(t=>console.log("Listener: task selected",t)),u.api.tasks.on.change(([t])=>console.log("Listener: task change",t)),u.api.tasks.on.changed(t=>console.log("Listener: task changed",t)),u.api.tasks.on.dblclicked(t=>console.log("Listener: task double clicked",t))});function x(t){const p=t.detail;Object.assign(e,p),u.$set(e)}return i.$$.update=()=>{i.$$.dirty&16&&m(l),i.$$.dirty&8&&c(a)},[e,x,g,a,l]}class ee extends E{constructor(r){super(),I(this,r,X,R,O,{data:2})}get data(){return this.$$.ctx[2]}}export{ee as component};
