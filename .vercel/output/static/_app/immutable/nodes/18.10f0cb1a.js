import{f as K}from"../chunks/fetch-refresh.dd216df5.js";import{e as Q}from"../chunks/index.5e2a9a64.js";import{S as W,i as Y,s as Z,e as $,t as P,d as N,J as H,f as k,g as E,k as C,l as _,j as I,m as S,p as y,r as g,A as x,z as d,w as v,y as w,v as R,X as D,b as O,h as V,q,x as A}from"../chunks/index.9f73b2d7.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.b57464ad.js";import"../chunks/Modal.svelte_svelte_type_style_lang.7c9bde1f.js";import"../chunks/moment.a354566a.js";import"../chunks/chunk-5UWJICAP.5753fd06.js";import"../chunks/paths.cfd798f3.js";import{C as j}from"../chunks/Card.423691da.js";const ee=async({fetch:c,params:s,depends:n,route:f})=>{n(`app:${f.id}`);const h=s.query,r=new URLSearchParams({q:h,type:"album,artist,playlist",limit:"6"}).toString(),o=await K(c,`/spotify/api/spotify/search?${r}`);if(!o.ok)throw Q(o.status,"Failed to load results!");const u=await o.json();return{title:`Search results for: ${h}`,searchResults:u}},he=Object.freeze(Object.defineProperty({__proto__:null,load:ee},Symbol.toStringTag,{value:"Module"}));function T(c,s,n){const f=c.slice();return f[4]=s[n],f}function B(c,s,n){const f=c.slice();return f[7]=s[n],f}function z(c,s,n){const f=c.slice();return f[10]=s[n],f}function J(c){let s,n;return{c(){s=$("p"),n=P("No results found!")},l(f){s=k(f,"P",{});var h=E(s);n=C(h,"No results found!"),h.forEach(_)},m(f,h){y(f,s,h),g(s,n)},d(f){f&&_(s)}}}function F(c){let s,n,f,h,r,o,u=c[3],l=[];for(let t=0;t<u.length;t+=1)l[t]=L(z(c,u,t));const b=t=>v(l[t],1,1,()=>{l[t]=null});return{c(){s=$("section"),n=$("h2"),f=P("Albums"),h=N(),r=$("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){s=k(t,"SECTION",{class:!0});var i=E(s);n=k(i,"H2",{class:!0});var e=E(n);f=C(e,"Albums"),e.forEach(_),h=I(i),r=k(i,"DIV",{class:!0});var m=E(r);for(let a=0;a<l.length;a+=1)l[a].l(m);m.forEach(_),i.forEach(_),this.h()},h(){S(n,"class","svelte-a8mgn9"),S(r,"class","grid-items"),S(s,"class","section svelte-a8mgn9")},m(t,i){y(t,s,i),g(s,n),g(n,f),g(s,h),g(s,r);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(r,null);o=!0},p(t,i){if(i&8){u=t[3];let e;for(e=0;e<u.length;e+=1){const m=z(t,u,e);l[e]?(l[e].p(m,i),d(l[e],1)):(l[e]=L(m),l[e].c(),d(l[e],1),l[e].m(r,null))}for(R(),e=u.length;e<l.length;e+=1)b(e);w()}},i(t){if(!o){for(let i=0;i<u.length;i+=1)d(l[i]);o=!0}},o(t){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)v(l[i]);o=!1},d(t){t&&_(s),D(l,t)}}}function L(c){let s,n,f,h;return n=new j({props:{item:c[10]}}),{c(){s=$("div"),O(n.$$.fragment),f=N(),this.h()},l(r){s=k(r,"DIV",{class:!0});var o=E(s);V(n.$$.fragment,o),f=I(o),o.forEach(_),this.h()},h(){S(s,"class","grid-item")},m(r,o){y(r,s,o),q(n,s,null),g(s,f),h=!0},p(r,o){const u={};o&8&&(u.item=r[10]),n.$set(u)},i(r){h||(d(n.$$.fragment,r),h=!0)},o(r){v(n.$$.fragment,r),h=!1},d(r){r&&_(s),A(n)}}}function M(c){let s,n,f,h,r,o,u=c[2],l=[];for(let t=0;t<u.length;t+=1)l[t]=U(B(c,u,t));const b=t=>v(l[t],1,1,()=>{l[t]=null});return{c(){s=$("section"),n=$("h2"),f=P("Playlists"),h=N(),r=$("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){s=k(t,"SECTION",{class:!0});var i=E(s);n=k(i,"H2",{class:!0});var e=E(n);f=C(e,"Playlists"),e.forEach(_),h=I(i),r=k(i,"DIV",{class:!0});var m=E(r);for(let a=0;a<l.length;a+=1)l[a].l(m);m.forEach(_),i.forEach(_),this.h()},h(){S(n,"class","svelte-a8mgn9"),S(r,"class","grid-items"),S(s,"class","section svelte-a8mgn9")},m(t,i){y(t,s,i),g(s,n),g(n,f),g(s,h),g(s,r);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(r,null);o=!0},p(t,i){if(i&4){u=t[2];let e;for(e=0;e<u.length;e+=1){const m=B(t,u,e);l[e]?(l[e].p(m,i),d(l[e],1)):(l[e]=U(m),l[e].c(),d(l[e],1),l[e].m(r,null))}for(R(),e=u.length;e<l.length;e+=1)b(e);w()}},i(t){if(!o){for(let i=0;i<u.length;i+=1)d(l[i]);o=!0}},o(t){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)v(l[i]);o=!1},d(t){t&&_(s),D(l,t)}}}function U(c){let s,n,f,h;return n=new j({props:{item:c[7]}}),{c(){s=$("div"),O(n.$$.fragment),f=N(),this.h()},l(r){s=k(r,"DIV",{class:!0});var o=E(s);V(n.$$.fragment,o),f=I(o),o.forEach(_),this.h()},h(){S(s,"class","grid-item")},m(r,o){y(r,s,o),q(n,s,null),g(s,f),h=!0},p(r,o){const u={};o&4&&(u.item=r[7]),n.$set(u)},i(r){h||(d(n.$$.fragment,r),h=!0)},o(r){v(n.$$.fragment,r),h=!1},d(r){r&&_(s),A(n)}}}function X(c){let s,n,f,h,r,o,u=c[1],l=[];for(let t=0;t<u.length;t+=1)l[t]=G(T(c,u,t));const b=t=>v(l[t],1,1,()=>{l[t]=null});return{c(){s=$("section"),n=$("h2"),f=P("Artists"),h=N(),r=$("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){s=k(t,"SECTION",{class:!0});var i=E(s);n=k(i,"H2",{class:!0});var e=E(n);f=C(e,"Artists"),e.forEach(_),h=I(i),r=k(i,"DIV",{class:!0});var m=E(r);for(let a=0;a<l.length;a+=1)l[a].l(m);m.forEach(_),i.forEach(_),this.h()},h(){S(n,"class","svelte-a8mgn9"),S(r,"class","grid-items"),S(s,"class","section svelte-a8mgn9")},m(t,i){y(t,s,i),g(s,n),g(n,f),g(s,h),g(s,r);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(r,null);o=!0},p(t,i){if(i&2){u=t[1];let e;for(e=0;e<u.length;e+=1){const m=T(t,u,e);l[e]?(l[e].p(m,i),d(l[e],1)):(l[e]=G(m),l[e].c(),d(l[e],1),l[e].m(r,null))}for(R(),e=u.length;e<l.length;e+=1)b(e);w()}},i(t){if(!o){for(let i=0;i<u.length;i+=1)d(l[i]);o=!0}},o(t){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)v(l[i]);o=!1},d(t){t&&_(s),D(l,t)}}}function G(c){let s,n,f,h;return n=new j({props:{item:c[4]}}),{c(){s=$("div"),O(n.$$.fragment),f=N(),this.h()},l(r){s=k(r,"DIV",{class:!0});var o=E(s);V(n.$$.fragment,o),f=I(o),o.forEach(_),this.h()},h(){S(s,"class","grid-item")},m(r,o){y(r,s,o),q(n,s,null),g(s,f),h=!0},p(r,o){const u={};o&2&&(u.item=r[4]),n.$set(u)},i(r){h||(d(n.$$.fragment,r),h=!0)},o(r){v(n.$$.fragment,r),h=!1},d(r){r&&_(s),A(n)}}}function te(c){let s,n=c[0].title+"",f,h,r,o,u,l,b,t=(!c[3]||c[3].length===0)&&(!c[2]||c[2].length===0)&&(!c[1]||c[1].length===0)&&J(),i=c[3]&&c[3].length>0&&F(c),e=c[2]&&c[2].length>0&&M(c),m=c[1]&&c[1].length>0&&X(c);return{c(){s=$("h1"),f=P(n),h=N(),t&&t.c(),r=N(),i&&i.c(),o=N(),e&&e.c(),u=N(),m&&m.c(),l=H(),this.h()},l(a){s=k(a,"H1",{class:!0});var p=E(s);f=C(p,n),p.forEach(_),h=I(a),t&&t.l(a),r=I(a),i&&i.l(a),o=I(a),e&&e.l(a),u=I(a),m&&m.l(a),l=H(),this.h()},h(){S(s,"class","svelte-a8mgn9")},m(a,p){y(a,s,p),g(s,f),y(a,h,p),t&&t.m(a,p),y(a,r,p),i&&i.m(a,p),y(a,o,p),e&&e.m(a,p),y(a,u,p),m&&m.m(a,p),y(a,l,p),b=!0},p(a,[p]){(!b||p&1)&&n!==(n=a[0].title+"")&&x(f,n),(!a[3]||a[3].length===0)&&(!a[2]||a[2].length===0)&&(!a[1]||a[1].length===0)?t||(t=J(),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null),a[3]&&a[3].length>0?i?(i.p(a,p),p&8&&d(i,1)):(i=F(a),i.c(),d(i,1),i.m(o.parentNode,o)):i&&(R(),v(i,1,1,()=>{i=null}),w()),a[2]&&a[2].length>0?e?(e.p(a,p),p&4&&d(e,1)):(e=M(a),e.c(),d(e,1),e.m(u.parentNode,u)):e&&(R(),v(e,1,1,()=>{e=null}),w()),a[1]&&a[1].length>0?m?(m.p(a,p),p&2&&d(m,1)):(m=X(a),m.c(),d(m,1),m.m(l.parentNode,l)):m&&(R(),v(m,1,1,()=>{m=null}),w())},i(a){b||(d(i),d(e),d(m),b=!0)},o(a){v(i),v(e),v(m),b=!1},d(a){a&&_(s),a&&_(h),t&&t.d(a),a&&_(r),i&&i.d(a),a&&_(o),e&&e.d(a),a&&_(u),m&&m.d(a),a&&_(l)}}}function le(c,s,n){let f,h,r,{data:o}=s;return c.$$set=u=>{"data"in u&&n(0,o=u.data)},c.$$.update=()=>{var u,l,b;c.$$.dirty&1&&n(3,f=(u=o.searchResults.albums)==null?void 0:u.items),c.$$.dirty&1&&n(2,h=(l=o.searchResults.playlists)==null?void 0:l.items),c.$$.dirty&1&&n(1,r=(b=o.searchResults.artists)==null?void 0:b.items)},[o,r,h,f]}class me extends W{constructor(s){super(),Y(this,s,le,te,Z,{data:0})}}export{me as component,he as universal};
